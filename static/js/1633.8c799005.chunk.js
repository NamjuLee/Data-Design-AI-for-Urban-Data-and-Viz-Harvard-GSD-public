"use strict";(self.webpackChunkData_Design_AI_for_Urban_Data_and_Viz_Harvard_GSD=self.webpackChunkData_Design_AI_for_Urban_Data_and_Viz_Harvard_GSD||[]).push([[1633,9249],{89249:function(t,i,e){e.r(i),e.d(i,{InteractivePoint:function(){return u},Line:function(){return p},Point:function(){return d},Solution:function(){return a}});var n=e(15671),s=e(43144),h=e(60136),r=e(29388),o=e(87968),a=function(t){(0,h.Z)(e,t);var i=(0,r.Z)(e);function e(t){var s;return(0,n.Z)(this,e),(s=i.call(this,t)).pts=[],s.lns=[],s.path=void 0,s.previousPt=void 0,s.ptStart=void 0,s.ptEnd=void 0,s.captured=void 0,s.mView.on("drag",(function(t){t.stopPropagation()})),s.mView.navigation.mouseWheelZoomEnabled=!1,s.center(-71.102761,42.366946),s.zoom(15),s.ptStart=new u(315,90),s.ptEnd=new u(1268,1120),s.start(),s}return(0,s.Z)(e,[{key:"render",value:function(t){var i=this;if(this.lns.map((function(e){return e.render(t,i.time)})),this.pts.map((function(e){return e.render(t,i.time)})),this.path){t.beginPath(),t.moveTo(this.path[0].x,this.path[0].y);for(var e=1;e<this.path.length;++e)t.lineTo(this.path[e].x,this.path[e].y);t.lineWidth=2,t.strokeStyle="#f00",t.stroke()}this.ptStart.Render(t,this.time),this.ptEnd.Render(t,this.time)}},{key:"mouseDown",value:function(t,i){this.ptStart.inInside(t,i)?this.captured=this.ptStart:this.ptEnd.inInside(t,i)&&(this.captured=this.ptEnd)}},{key:"mouseUp",value:function(t,i){this.captured=void 0}},{key:"mouseDrag",value:function(t,i){}},{key:"mouseClick",value:function(t,i){if(void 0===this.previousPt){var e=new d(t,i);this.previousPt=e,this.pts.push(e)}else{var n=new d(t,i);this.pts.push(n),this.lns.push(new p(this.previousPt,n)),this.previousPt=void 0}}},{key:"mouseMove",value:function(t,i){this.captured&&(console.log(t,i),this.captured.x=t,this.captured.y=i)}}]),e}(o.RendererJSAPI),u=function(){function t(i,e){(0,n.Z)(this,t),this.x=void 0,this.y=void 0,this.r=10,this.x=i,this.y=e}return(0,s.Z)(t,[{key:"Render",value:function(t,i){t.beginPath(),t.arc(this.x,this.y,Math.sin(i)+this.r,0,2*Math.PI),t.closePath(),t.fillStyle="#00f",t.fill(),t.strokeStyle="#fff",t.stroke()}},{key:"inInside",value:function(t,i){return(0,o.distanceTo)(t,i,0,this.x,this.y,0)<this.r+2}}]),t}(),p=function(){function t(i,e){(0,n.Z)(this,t),this.p0=void 0,this.p1=void 0,this.lineWidth=2,this.p0=i,this.p1=e}return(0,s.Z)(t,[{key:"render",value:function(t,i){t.beginPath(),t.moveTo(this.p0.x,this.p0.y),t.lineTo(this.p1.x,this.p1.y),t.closePath(),t.lineWidth=this.lineWidth,t.strokeStyle="#fff",t.stroke()}}]),t}(),d=function(){function t(i,e){(0,n.Z)(this,t),this.x=void 0,this.y=void 0,this.z=0,this.r=6,this.x=i,this.y=e}return(0,s.Z)(t,[{key:"render",value:function(t,i){t.beginPath(),t.arc(this.x,this.y,Math.sin(i)+this.r,0,2*Math.PI),t.closePath(),t.fillStyle="#0f0",t.fill(),t.strokeStyle="#fff",t.stroke()}}]),t}()},91633:function(t,i,e){e.r(i),e.d(i,{Solution:function(){return u}});var n=e(15671),s=e(43144),h=e(60136),r=e(29388),o=e(87968),a=e(89249),u=function(t){(0,h.Z)(e,t);var i=(0,r.Z)(e);function e(t){var s;return(0,n.Z)(this,e),(s=i.call(this,t)).network=void 0,s.pts=[],s.lns=[],s.path=void 0,s.previousPt=void 0,s.ptStart=void 0,s.ptEnd=void 0,s.captured=void 0,s.mView.on("drag",(function(t){t.stopPropagation()})),s.mView.navigation.mouseWheelZoomEnabled=!1,s.center(-71.102761,42.366946),s.zoom(15),s.network=new p,s.ptStart=new a.InteractivePoint(315,90),s.ptEnd=new a.InteractivePoint(1268,1120),s.start(),s}return(0,s.Z)(e,[{key:"render",value:function(t){var i=this;if(this.lns.map((function(e){return e.render(t,i.time)})),this.pts.map((function(e){return e.render(t,i.time)})),this.network.render(t),this.path){t.beginPath(),t.moveTo(this.path[0].x,this.path[0].y);for(var e=1;e<this.path.length;++e)t.lineTo(this.path[e].x,this.path[e].y);t.lineWidth=2,t.strokeStyle="#f00",t.stroke()}this.ptStart.Render(t,this.time),this.ptEnd.Render(t,this.time)}},{key:"mouseDown",value:function(t,i){this.ptStart.inInside(t,i)?this.captured=this.ptStart:this.ptEnd.inInside(t,i)&&(this.captured=this.ptEnd)}},{key:"mouseUp",value:function(t,i){this.captured=void 0}},{key:"mouseDrag",value:function(t,i){}},{key:"mouseClick",value:function(t,i){if(void 0===this.previousPt){var e=new a.Point(t,i);this.previousPt=e,this.pts.push(e)}else{var n=new a.Point(t,i);this.pts.push(n),this.lns.push(new a.Line(this.previousPt,n)),this.previousPt=void 0;var s=JSON.parse(JSON.stringify(this.lns));this.network=new p,this.network.addLine(s),this.path=this.network.getPath({x:this.ptStart.x,y:this.ptStart.y,z:0},{x:this.ptEnd.x,y:this.ptEnd.y,z:0})}}},{key:"mouseMove",value:function(t,i){this.captured&&(this.captured.x=t,this.captured.y=i,this.network.isActivated&&(this.path=this.network.getPath({x:this.ptStart.x,y:this.ptStart.y,z:0},{x:this.ptEnd.x,y:this.ptEnd.y,z:0})))}}]),e}(o.RendererJSAPI),p=function(){function t(){(0,n.Z)(this,t),this.graph=void 0,this.isActivated=!1,this.graph=new o.Graph}return(0,s.Z)(t,[{key:"addLine",value:function(t){var i=(0,o.getLineSeg)(t);this.graph.initByLines(i),console.log(this.graph),this.isActivated=!0}},{key:"render",value:function(t){this.graph.edges.map((function(i,e){t.beginPath(),t.moveTo(i.n0.x,i.n0.y),t.lineTo(i.n1.x,i.n1.y),t.lineWidth=1,t.strokeStyle="#fff",t.stroke()})),this.graph.nodes.map((function(i){t.beginPath(),t.arc(i.x,i.y,5,0,2*Math.PI),t.fillStyle="#fff",t.fill()})),this.graph.nodeOrigin&&(t.beginPath(),t.arc(this.graph.nodeOrigin.x,this.graph.nodeOrigin.y,7,0,2*Math.PI),t.closePath(),t.fillStyle="#f00",t.fill()),this.graph.nodeTarget&&(t.beginPath(),t.arc(this.graph.nodeTarget.x,this.graph.nodeTarget.y,7,0,2*Math.PI),t.closePath(),t.fillStyle="#f00",t.fill())}},{key:"getPath",value:function(t,i){var e=this.graph.findClosestNode(t),n=this.graph.findClosestNode(i);return this.graph.propagationByNode(e),this.graph.backpropagation(n)}}]),t}()}}]);
//# sourceMappingURL=1633.8c799005.chunk.js.map