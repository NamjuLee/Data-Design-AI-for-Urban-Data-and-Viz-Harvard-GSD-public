"use strict";(self.webpackChunkData_Design_AI_for_Urban_Data_and_Viz_Harvard_GSD=self.webpackChunkData_Design_AI_for_Urban_Data_and_Viz_Harvard_GSD||[]).push([[2838],{52838:function(t,n,i){i.r(n),i.d(n,{KNN:function(){return c},Solution:function(){return h}});var e=i(37762),o=i(15671),s=i(43144),r=i(20386),h=function(){function t(n){(0,o.Z)(this,t),this.divHost=void 0,this.knnEx()}return(0,s.Z)(t,[{key:"knnEx",value:function(){var t=new c([[0,0],[0,1],[1,2],[1,3]],[0,0,1,1]).predict([[0,0]]);console.log(t,c)}},{key:"irisPrediction",value:function(){var t=l();(0,r.shuffleArray)(t);for(var n=[],i=[],e=0;e<t.length;++e){for(var o=[],s=0;s<t[e].length-1;++s)o.push(t[e][s]);n.push(o),i.push(t[e][t[e].length-1])}console.log("Iris data"),console.log(n);var h=n.splice(0,Math.floor(.6*n.length)),a=i.splice(0,Math.floor(.6*i.length)),u=n,f=i;console.log("train data inputs"),console.log(h),console.log("train data labels"),console.log(a),console.log("validation data inputs"),console.log(u),console.log("validation data labels"),console.log(f);var d=new c(h,a).predict(u);console.log("Prediction :",d),console.log("Ground truth ",f);for(var v=[],g=0;g<f.length;++g)f[g]!==d[g]&&v.push(g);console.log(String((100-v.length/f.length*100).toFixed(2))+"% accuracy"),console.log("index:",v)}},{key:"destroy",value:function(){try{for(;void 0!==this.divHost&&void 0!==this.divHost.lastElementChild;)this.divHost.removeChild(this.divHost.lastElementChild)}catch(t){}}}]),t}(),l=function(){return[[5.1,3.5,1.4,.2,0],[4.9,3,1.4,.2,0],[4.7,3.2,1.3,.2,0],[4.6,3.1,1.5,.2,0],[5,3.6,1.4,.2,0],[5.4,3.9,1.7,.4,0],[4.6,3.4,1.4,.3,0],[5,3.4,1.5,.2,0],[4.4,2.9,1.4,.2,0],[4.9,3.1,1.5,.1,0],[5.4,3.7,1.5,.2,0],[4.8,3.4,1.6,.2,0],[4.8,3,1.4,.1,0],[4.3,3,1.1,.1,0],[5.8,4,1.2,.2,0],[5.7,4.4,1.5,.4,0],[5.4,3.9,1.3,.4,0],[5.1,3.5,1.4,.3,0],[5.7,3.8,1.7,.3,0],[5.1,3.8,1.5,.3,0],[5.4,3.4,1.7,.2,0],[5.1,3.7,1.5,.4,0],[4.6,3.6,1,.2,0],[5.1,3.3,1.7,.5,0],[4.8,3.4,1.9,.2,0],[5,3,1.6,.2,0],[5,3.4,1.6,.4,0],[5.2,3.5,1.5,.2,0],[5.2,3.4,1.4,.2,0],[4.7,3.2,1.6,.2,0],[4.8,3.1,1.6,.2,0],[5.4,3.4,1.5,.4,0],[5.2,4.1,1.5,.1,0],[5.5,4.2,1.4,.2,0],[4.9,3.1,1.5,.1,0],[5,3.2,1.2,.2,0],[5.5,3.5,1.3,.2,0],[4.9,3.1,1.5,.1,0],[4.4,3,1.3,.2,0],[5.1,3.4,1.5,.2,0],[5,3.5,1.3,.3,0],[4.5,2.3,1.3,.3,0],[4.4,3.2,1.3,.2,0],[5,3.5,1.6,.6,0],[5.1,3.8,1.9,.4,0],[4.8,3,1.4,.3,0],[5.1,3.8,1.6,.2,0],[4.6,3.2,1.4,.2,0],[5.3,3.7,1.5,.2,0],[5,3.3,1.4,.2,0],[7,3.2,4.7,1.4,1],[6.4,3.2,4.5,1.5,1],[6.9,3.1,4.9,1.5,1],[5.5,2.3,4,1.3,1],[6.5,2.8,4.6,1.5,1],[5.7,2.8,4.5,1.3,1],[6.3,3.3,4.7,1.6,1],[4.9,2.4,3.3,1,1],[6.6,2.9,4.6,1.3,1],[5.2,2.7,3.9,1.4,1],[5,2,3.5,1,1],[5.9,3,4.2,1.5,1],[6,2.2,4,1,1],[6.1,2.9,4.7,1.4,1],[5.6,2.9,3.6,1.3,1],[6.7,3.1,4.4,1.4,1],[5.6,3,4.5,1.5,1],[5.8,2.7,4.1,1,1],[6.2,2.2,4.5,1.5,1],[5.6,2.5,3.9,1.1,1],[5.9,3.2,4.8,1.8,1],[6.1,2.8,4,1.3,1],[6.3,2.5,4.9,1.5,1],[6.1,2.8,4.7,1.2,1],[6.4,2.9,4.3,1.3,1],[6.6,3,4.4,1.4,1],[6.8,2.8,4.8,1.4,1],[6.7,3,5,1.7,1],[6,2.9,4.5,1.5,1],[5.7,2.6,3.5,1,1],[5.5,2.4,3.8,1.1,1],[5.5,2.4,3.7,1,1],[5.8,2.7,3.9,1.2,1],[6,2.7,5.1,1.6,1],[5.4,3,4.5,1.5,1],[6,3.4,4.5,1.6,1],[6.7,3.1,4.7,1.5,1],[6.3,2.3,4.4,1.3,1],[5.6,3,4.1,1.3,1],[5.5,2.5,4,1.3,1],[5.5,2.6,4.4,1.2,1],[6.1,3,4.6,1.4,1],[5.8,2.6,4,1.2,1],[5,2.3,3.3,1,1],[5.6,2.7,4.2,1.3,1],[5.7,3,4.2,1.2,1],[5.7,2.9,4.2,1.3,1],[6.2,2.9,4.3,1.3,1],[5.1,2.5,3,1.1,1],[5.7,2.8,4.1,1.3,1],[6.3,3.3,6,2.5,2],[5.8,2.7,5.1,1.9,2],[7.1,3,5.9,2.1,2],[6.3,2.9,5.6,1.8,2],[6.5,3,5.8,2.2,2],[7.6,3,6.6,2.1,2],[4.9,2.5,4.5,1.7,2],[7.3,2.9,6.3,1.8,2],[6.7,2.5,5.8,1.8,2],[7.2,3.6,6.1,2.5,2],[6.5,3.2,5.1,2,2],[6.4,2.7,5.3,1.9,2],[6.8,3,5.5,2.1,2],[5.7,2.5,5,2,2],[5.8,2.8,5.1,2.4,2],[6.4,3.2,5.3,2.3,2],[6.5,3,5.5,1.8,2],[7.7,3.8,6.7,2.2,2],[7.7,2.6,6.9,2.3,2],[6,2.2,5,1.5,2],[6.9,3.2,5.7,2.3,2],[5.6,2.8,4.9,2,2],[7.7,2.8,6.7,2,2],[6.3,2.7,4.9,1.8,2],[6.7,3.3,5.7,2.1,2],[7.2,3.2,6,1.8,2],[6.2,2.8,4.8,1.8,2],[6.1,3,4.9,1.8,2],[6.4,2.8,5.6,2.1,2],[7.2,3,5.8,1.6,2],[7.4,2.8,6.1,1.9,2],[7.9,3.8,6.4,2,2],[6.4,2.8,5.6,2.2,2],[6.3,2.8,5.1,1.5,2],[6.1,2.6,5.6,1.4,2],[7.7,3,6.1,2.3,2],[6.3,3.4,5.6,2.4,2],[6.4,3.1,5.5,1.8,2],[6,3,4.8,1.8,2],[6.9,3.1,5.4,2.1,2],[6.7,3.1,5.6,2.4,2],[6.9,3.1,5.1,2.3,2],[5.8,2.7,5.1,1.9,2],[6.8,3.2,5.9,2.3,2],[6.7,3.3,5.7,2.5,2],[6.7,3,5.2,2.3,2],[6.3,2.5,5,1.9,2],[6.5,3,5.2,2,2],[6.2,3.4,5.4,2.3,2],[5.9,3,5.1,1.8,2]]},a=function(t,n){return Math.sqrt(function(t,n){for(var i=0,e=0;e<t.length;e++)i+=(t[e]-n[e])*(t[e]-n[e]);return i}(t,n))},c=function(){function t(n,i){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if((0,o.Z)(this,t),this.kdTree=void 0,this.k=void 0,this.classes=void 0,this.isEuclidean=void 0,!0===n){var s=i;return this.kdTree=new d(s.kdTree,e),this.k=s.k,this.classes=new Set(s.classes),void(this.isEuclidean=s.isEuclidean)}for(var r=new Set(i),h=r.size+1,l=a,c=new Array(n.length),u=0;u<c.length;++u)c[u]=n[u].slice();for(var f=0;f<i.length;++f)c[f].push(i[f]);this.kdTree=new d(c,l),this.k=h,this.classes=r,this.isEuclidean=l===a}return(0,s.Z)(t,[{key:"predict",value:function(t){if(Array.isArray(t)){if("number"===typeof t[0])return u(this,t);if(Array.isArray(t[0])&&"number"===typeof t[0][0]){for(var n=new Array(t.length),i=0;i<t.length;i++)n[i]=u(this,t[i]);return n}}throw new TypeError("dataset error")}}]),t}(),u=function(t,n){var i,o=t.kdTree.nearest(n,t.k),s={},r=-1,h=-1,l=o[0][0].length-1,a=(0,e.Z)(t.classes);try{for(a.s();!(i=a.n()).done;){s[i.value]=0}}catch(d){a.e(d)}finally{a.f()}for(var c=0;c<o.length;++c){var u=o[c][0][l],f=++s[u];f>h&&(r=u,h=f)}return r},f=(0,s.Z)((function t(n,i,e){(0,o.Z)(this,t),this.obj=void 0,this.left=void 0,this.right=void 0,this.parent=void 0,this.dimensions=void 0,this.obj=n,this.left=null,this.right=null,this.parent=e,this.dimensions=i})),d=function(){function t(n,i){if((0,o.Z)(this,t),this.root=void 0,this.dimensions=void 0,this.metric=void 0,Array.isArray(n)){this.dimensions=new Array(n[0].length);for(var e=0;e<this.dimensions.length;e++)this.dimensions[e]=e;this.root=v(n,0,null,this.dimensions)}else this.dimensions=n.dimensions,this.root=n,g(this.root);this.metric=i}return(0,s.Z)(t,[{key:"nearest",value:function(t,n,i){var e,o=this.metric,s=this.dimensions,r=new p((function(t){return-t[1]}));if(i)for(e=0;e<n;e+=1)r.push([null,i]);this.root&&function i(e){var h,l,a,c,u=s[e.dimension],f=o(t,e.obj),d={};function v(t,i){r.push([t,i]),r.size()>n&&r.pop()}for(c=0;c<s.length;c+=1)c===e.dimension?d[s[c]]=t[s[c]]:d[s[c]]=e.obj[s[c]];l=o(d,e.obj),null!==e.right||null!==e.left?(i(h=null===e.right?e.left:null===e.left?e.right:t[u]<e.obj[u]?e.left:e.right),(r.size()<n||f<r.peek()[1])&&v(e,f),(r.size()<n||Math.abs(l)<r.peek()[1])&&null!==(a=h===e.left?e.right:e.left)&&i(a)):(r.size()<n||f<r.peek()[1])&&v(e,f)}(this.root);var h=[];for(e=0;e<Math.min(n,r.content.length);e+=1)r.content[e][0]&&h.push([r.content[e][0].obj,r.content[e][1]]);return h}}]),t}(),v=function t(n,i,e,o){var s=i%o.length;if(0===n.length)return null;if(1===n.length)return new f(n[0],s,e);n.sort((function(t,n){return t[o[s]]-n[o[s]]}));var r=Math.floor(n.length/2),h=new f(n[r],s,e);return h.left=t(n.slice(0,r),i+1,h,o),h.right=t(n.slice(r+1),i+1,h,o),h},g=function t(n){n.left&&(n.left.parent=n,t(n.left)),n.right&&(n.right.parent=n,t(n.right))},p=function(){function t(n){(0,o.Z)(this,t),this.content=void 0,this.scoreFunction=void 0,this.content=[],this.scoreFunction=n}return(0,s.Z)(t,[{key:"push",value:function(t){this.content.push(t),this.bubbleUp(this.content.length-1)}},{key:"pop",value:function(){var t=this.content[0],n=this.content.pop();return this.content.length>0&&(this.content[0]=n,this.sinkDown(0)),t}},{key:"peek",value:function(){return this.content[0]}},{key:"size",value:function(){return this.content.length}},{key:"bubbleUp",value:function(t){for(var n=this.content[t];t>0;){var i=Math.floor((t+1)/2)-1,e=this.content[i];if(!(this.scoreFunction(n)<this.scoreFunction(e)))break;this.content[i]=n,this.content[t]=e,t=i}}},{key:"sinkDown",value:function(t){for(var n=this.content.length,i=this.content[t],e=this.scoreFunction(i);;){var o=void 0,s=2*(t+1),r=s-1,h=null;if(r<n){var l=this.content[r];(o=this.scoreFunction(l))<e&&(h=r)}if(s<n){var a=this.content[s];this.scoreFunction(a)<(null===h?e:o)&&(h=s)}if(null===h)break;this.content[t]=this.content[h],this.content[h]=i,t=h}}}]),t}()}}]);
//# sourceMappingURL=2838.4d7d99c2.chunk.js.map