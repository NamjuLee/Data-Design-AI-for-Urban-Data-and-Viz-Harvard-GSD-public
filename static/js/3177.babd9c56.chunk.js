"use strict";(self.webpackChunkData_Design_AI_for_Urban_Data_and_Viz_Harvard_GSD=self.webpackChunkData_Design_AI_for_Urban_Data_and_Viz_Harvard_GSD||[]).push([[3177],{13177:function(e,r,t){t.r(r),t.d(r,{default:function(){return b}});var i=t(1413),n=t(15671),a=t(43144),s=t(11752),l=t(61120),u=t(60136),o=t(29388),y=t(27366),c=t(92026),d=t(94172),f=(t(32718),t(25243),t(63780),t(10064),t(93169),t(69912)),h=t(18661);var p=function(e){(0,u.Z)(t,e);var r=(0,o.Z)(t);function t(){return(0,n.Z)(this,t),r.apply(this,arguments)}return(0,a.Z)(t,[{key:"initialize",value:function(){var e=this;this.handles.add([(0,d.YP)((function(){var r;return null===(r=e.view)||void 0===r?void 0:r.viewpoint}),(function(){return e._update()}),d.nn)])}},{key:"_injectOverrides",value:function(e){var r=(0,s.Z)((0,l.Z)(t.prototype),"_injectOverrides",this).call(this,e),i=this.view.scale,n=this.layer.sublayers.filter((function(e){return function(e,r){return!e.visible||0!==e.minScale&&r>e.minScale||0!==e.maxScale&&r<e.maxScale}(e,i)})).map((function(e){return e.subtypeCode}));if(!n.length)return r;r=(0,c.pC)(r)?r:(new h.Z).toJSON();var a="NOT ".concat(this.layer.subtypeField," IN (").concat(n.join(","),")");return r.where=r.where?"(".concat(r.where,") AND (").concat(a,")"):a,r}},{key:"_setLayersForFeature",value:function(e){var r=this.layer.fieldsIndex.get(this.layer.subtypeField),t=e.attributes[r.name],i=this.layer.sublayers.find((function(e){return e.subtypeCode===t}));e.layer=i,e.sourceLayer=this.layer}},{key:"_createSchemaConfig",value:function(){var e=this,r={subtypeField:this.layer.subtypeField,sublayers:Array.from(this.layer.sublayers).map((function(r){return{featureReduction:null,geometryType:e.layer.geometryType,labelingInfo:r.labelingInfo,labelsVisible:r.labelsVisible,renderer:r.renderer,subtypeCode:r.subtypeCode,orderBy:null}}))},n=this.layer.sublayers.map((function(e){return e.subtypeCode})).join(","),a=this.layer.sublayers.length?"".concat(this.layer.subtypeField," IN (").concat(n,")"):"1=2",u=this.layer.definitionExpression?this.layer.definitionExpression+" AND ":"";return u+=a,(0,i.Z)((0,i.Z)((0,i.Z)({},(0,s.Z)((0,l.Z)(t.prototype),"_createSchemaConfig",this).call(this)),r),{},{definitionExpression:u})}}]),t}(t(50244).default),b=p=(0,y._)([(0,f.j)("esri.views.2d.layers.SubtypeGroupLayerView2D")],p)}}]);
//# sourceMappingURL=3177.babd9c56.chunk.js.map