{"version":3,"file":"static/js/8588.5d943fe8.chunk.js","mappings":"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","sources":["PART_9_LAB_Visualization_Analysis/Lab/Project_01_Third_Place/index.ts"],"sourcesContent":["import { RendererJSAPI } from '../../../lib'\r\nimport { getFalseColor, getJSONFromURL } from 'njscore';\r\n\r\nexport class Solution extends RendererJSAPI {\r\n\r\n    pts: number[][] = [];\r\n\r\n    ptsUni: number[][] = [];\r\n    ptsBook: number[][] = [];\r\n    ptsLib: number[][] = [];\r\n\r\n    colorArray: number[][] = [];\r\n\r\n    constructor(view: any) {\r\n        super(view);\r\n\r\n        getJSONFromURL('https://raw.githubusercontent.com/NamjuLee/data/master/Boston/thrid-place/ThridPlaceBoston.json').then((d) => {\r\n            for (let i = 0 ; i < d['dataset'].length; ++i) {\r\n                console.log(d['dataset'][i]['id'])\r\n                if (d['dataset'][i]['id'] === 'university') {\r\n                  d['dataset'][i].data.forEach( (pos: any) => {\r\n                        this.ptsUni.push([pos['lon'], pos['lat']]);\r\n                  });\r\n                } else if (d['dataset'][i]['id'] === 'book_store') {\r\n                    d['dataset'][i].data.forEach( (pos: any) => {\r\n                          this.ptsBook.push([pos['lon'], pos['lat']]);\r\n                    });\r\n                } else if (d['dataset'][i]['id'] === 'library') {\r\n                    d['dataset'][i].data.forEach( (pos: any) => {\r\n                          this.ptsLib.push([pos['lon'], pos['lat']]);\r\n                    });\r\n                } \r\n\r\n            }\r\n        });\r\n        \r\n        this.colorArray = [];\r\n        for (let i = 0 ; i < 255; ++i) {\r\n            const result = getFalseColor(i / 255);\r\n            this.colorArray.push(result);\r\n        }\r\n        console.log(this.colorArray.length);\r\n\r\n        this.start();\r\n    }\r\n    render(ctx: CanvasRenderingContext2D) {\r\n        ctx.globalCompositeOperation = 'screen' ; //'lighten';\r\n        for (let i = 0; i < this.ptsUni.length; ++i) { \r\n            const projected = this.toScreen(this.ptsUni[i][0], this.ptsUni[i][1]); \r\n            renderPoint(ctx, projected[0], projected[1], this.time, 'rgba(0, 255, 0, 0.6)' );\r\n        }\r\n        for (let i = 0; i < this.ptsBook.length; ++i) { \r\n            const projected = this.toScreen(this.ptsBook[i][0], this.ptsBook[i][1]); \r\n            renderPoint(ctx, projected[0], projected[1], this.time + 1, 'rgba(0, 0, 255, 0.6)' );\r\n        }\r\n        for (let i = 0; i < this.ptsLib.length; ++i) { \r\n            const projected = this.toScreen(this.ptsLib[i][0], this.ptsLib[i][1]); \r\n            renderPoint(ctx, projected[0], projected[1], this.time + 2, 'rgba(255, 0, 0, 0.6)' );\r\n        }\r\n        for (let i = 0; i < this.pts.length; ++i) { \r\n            const projected = this.toScreen(this.pts[i][0], this.pts[i][1]); \r\n            renderPoint(ctx, projected[0], projected[1], this.time + 3, 'rgba(255, 255, 255, 0.6)' );\r\n        }\r\n\r\n\r\n        const xOff = 100;\r\n        const yOff = ctx.canvas.height - 100;\r\n        const w = 2;\r\n        const h = 20;\r\n        for (let i = 0 ; i < this.colorArray.length; ++i) {\r\n            ctx.beginPath();\r\n            ctx.rect(i * w + xOff, yOff, w, h)\r\n            ctx.closePath();\r\n            ctx.fillStyle = `rgba(${this.colorArray[i][0]}, ${this.colorArray[i][1]}, ${this.colorArray[i][2]}, 1)`;\r\n            ctx.fill();\r\n        }\r\n    }\r\n    keyDown(k: KeyboardEvent): void {\r\n        console.log('key pressed', k);\r\n    }\r\n    mouseDown(x: number, y: number): void {\r\n        console.log('mouse down')\r\n    }\r\n    mouseUp(x: number, y: number): void {\r\n        console.log('mouse up')\r\n    }\r\n    mouseClick(x: number, y: number): void {\r\n        const mapProjected = this.toMap(x, y);\r\n        this.pts.push(mapProjected);\r\n    }\r\n    mouseMove(x: number, y: number) {\r\n\r\n    }\r\n}\r\n\r\nconst renderPoint = (ctx: CanvasRenderingContext2D, x: number, y: number, t: number, color: string) => {\r\n    ctx.fillStyle = color;\r\n    ctx.beginPath();\r\n    ctx.arc(x, y, (Math.sin(t * 0.8) + 4) * 2, 0, Math.PI * 2);\r\n    ctx.closePath();\r\n    ctx.fill();\r\n}\r\n"],"names":["Solution","view","pts","ptsUni","ptsBook","ptsLib","colorArray","getJSONFromURL","then","d","i","length","console","log","data","forEach","pos","push","result","getFalseColor","start","ctx","globalCompositeOperation","this","projected","toScreen","renderPoint","time","yOff","canvas","height","beginPath","rect","closePath","fillStyle","fill","k","x","y","mapProjected","toMap","RendererJSAPI","t","color","arc","Math","sin","PI"],"sourceRoot":""}