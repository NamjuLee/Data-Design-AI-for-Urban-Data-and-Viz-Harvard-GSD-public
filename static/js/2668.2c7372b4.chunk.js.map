{"version":3,"file":"static/js/2668.2c7372b4.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/layers/support/PurgeOptions.js","../node_modules/@arcgis/core/layers/StreamLayer.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import{JSONSupport as o}from\"../../core/JSONSupport.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";var t;let i=t=class extends o{constructor(){super(...arguments),this.age=null,this.ageReceived=null,this.displayCount=null,this.maxObservations=1}clone(){return new t({age:this.age,ageReceived:this.ageReceived,displayCount:this.displayCount,maxObservations:this.maxObservations})}};e([r({type:Number,json:{write:!0}})],i.prototype,\"age\",void 0),e([r({type:Number,json:{write:!0}})],i.prototype,\"ageReceived\",void 0),e([r({type:Number,json:{write:!0}})],i.prototype,\"displayCount\",void 0),e([r({type:Number,json:{write:!0}})],i.prototype,\"maxObservations\",void 0),i=t=e([s(\"esri.layers.support.PurgeOptions\")],i);const p=i;export{p as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import\"../geometry.js\";import r from\"../PopupTemplate.js\";import\"../renderers/ClassBreaksRenderer.js\";import\"../renderers/DictionaryRenderer.js\";import\"../renderers/DotDensityRenderer.js\";import\"../renderers/HeatmapRenderer.js\";import\"../renderers/PieChartRenderer.js\";import\"../renderers/Renderer.js\";import t from\"../renderers/SimpleRenderer.js\";import o from\"../renderers/UniqueValueRenderer.js\";import{read as i}from\"../renderers/support/jsonUtils.js\";import{rendererTypes as s,webSceneRendererTypes as n}from\"../renderers/support/types.js\";import p from\"../request.js\";import{symbolTypesRenderer as a}from\"../symbols.js\";import l from\"../core/Error.js\";import m from\"../core/Logger.js\";import{isSome as d}from\"../core/maybe.js\";import{MultiOriginJSONMixin as c}from\"../core/MultiOriginJSONSupport.js\";import{throwIfAbortError as y}from\"../core/promiseUtils.js\";import{property as f}from\"../core/accessorSupport/decorators/property.js\";import\"../core/arrayUtils.js\";import{Integer as u}from\"../core/accessorSupport/ensureType.js\";import{reader as h}from\"../core/accessorSupport/decorators/reader.js\";import{subclass as g}from\"../core/accessorSupport/decorators/subclass.js\";import{createTypeReader as j}from\"../core/accessorSupport/extensions/serializableProperty/reader.js\";import{featureGeometryTypeKebabDictionary as v}from\"../geometry/support/typeUtils.js\";import S from\"./Layer.js\";import{ArcGISService as b}from\"./mixins/ArcGISService.js\";import{BlendLayer as I}from\"./mixins/BlendLayer.js\";import{CustomParametersMixin as w}from\"./mixins/CustomParametersMixin.js\";import{FeatureEffectLayer as x}from\"./mixins/FeatureEffectLayer.js\";import{FeatureReductionLayer as R}from\"./mixins/FeatureReductionLayer.js\";import{OperationalLayer as P}from\"./mixins/OperationalLayer.js\";import{PortalLayer as T}from\"./mixins/PortalLayer.js\";import{RefreshableLayer as L}from\"./mixins/RefreshableLayer.js\";import{ScaleRangeLayer as D}from\"./mixins/ScaleRangeLayer.js\";import{TemporalLayer as F}from\"./mixins/TemporalLayer.js\";import{labelsVisible as E,legendEnabled as U,maxScale as O,minScale as k,popupEnabled as N,screenSizePerspectiveEnabled as A,url as C}from\"./support/commonProperties.js\";import{defineFieldProperties as _}from\"./support/fieldProperties.js\";import{fixRendererFields as J,fixTimeInfoFields as G}from\"./support/fieldUtils.js\";import q from\"./support/LabelClass.js\";import{reader as V}from\"./support/labelingInfo.js\";import z from\"./support/PurgeOptions.js\";import{loadStyleRenderer as M}from\"../renderers/support/styleUtils.js\";import W from\"../rest/support/Query.js\";import{createPopupTemplate as B}from\"../support/popupUtils.js\";import Q from\"../symbols/support/ElevationInfo.js\";import H from\"../geometry/SpatialReference.js\";import K from\"../geometry/Extent.js\";const X=_();let Y=class extends(R(x(I(F(D(L(b(P(T(c(w(S)))))))))))){constructor(...e){super(...e),this.copyright=null,this.definitionExpression=null,this.displayField=null,this.elevationInfo=null,this.fields=null,this.fieldsIndex=null,this.geometryDefinition=null,this.geometryType=null,this.labelsVisible=!0,this.labelingInfo=null,this.legendEnabled=!0,this.maxReconnectionAttempts=0,this.maxReconnectionInterval=20,this.maxScale=0,this.minScale=0,this.objectIdField=null,this.operationalLayerType=\"ArcGISStreamLayer\",this.popupEnabled=!0,this.popupTemplate=null,this.purgeOptions=new z,this.screenSizePerspectiveEnabled=!0,this.sourceJSON=null,this.spatialReference=H.WGS84,this.type=\"stream\",this.url=null,this.updateInterval=300,this.webSocketUrl=null}normalizeCtorArgs(e,r){return\"string\"==typeof e?{url:e,...r}:e}load(e){if(!(\"WebSocket\"in globalThis))return this.addResolvingPromise(Promise.reject(new l(\"stream-layer:websocket-unsupported\",\"WebSocket is not supported in this browser. StreamLayer will not have real-time connection with the stream service.\"))),Promise.resolve(this);const r=d(e)?e.signal:null;return this.addResolvingPromise(this.loadFromPortal({supportedTypes:[\"Stream Service\",\"Feed\"]},e).catch(y).then((()=>this._fetchService(r)))),Promise.resolve(this)}get defaultPopupTemplate(){return this.createPopupTemplate()}set renderer(e){J(e,this.fieldsIndex),this._set(\"renderer\",e)}readRenderer(e,r,s){const n=(r=r.layerDefinition||r).drawingInfo&&r.drawingInfo.renderer||void 0;if(n){const e=i(n,r,s)||void 0;return e||m.getLogger(this.declaredClass).error(\"Failed to create renderer\",{rendererDefinition:r.drawingInfo.renderer,layer:this,context:s}),e}if(r.defaultSymbol)return r.types&&r.types.length?new o({defaultSymbol:Z(r.defaultSymbol,r,s),field:r.typeIdField,uniqueValueInfos:r.types.map((e=>({id:e.id,symbol:Z(e.symbol,e,s)})))}):new t({symbol:Z(r.defaultSymbol,r,s)})}async connect(e){const[{createConnection:r}]=await Promise.all([import(\"./graphics/sources/connections/createConnection.js\"),this.load()]),t=v.toJSON(this.geometryType),{customParameters:o=null,definitionExpression:i=null,geometryDefinition:s=null,maxReconnectionAttempts:n=0,maxReconnectionInterval:p=20,spatialReference:a=this.spatialReference}=e||this.createConnectionParameters();return r(this.parsedUrl,this.spatialReference,a,t,{geometry:s,where:i},n,p,o)}createConnectionParameters(){return{spatialReference:this.spatialReference,customParameters:this.customParameters,definitionExpression:this.definitionExpression,geometryDefinition:this.geometryDefinition,maxReconnectionAttempts:this.maxReconnectionAttempts,maxReconnectionInterval:this.maxReconnectionInterval}}createPopupTemplate(e){return B(this,e)}createQuery(){const e=new W;return e.returnGeometry=!0,e.outFields=[\"*\"],e.where=this.definitionExpression||\"1=1\",e}getFieldDomain(e,r){if(!this.fields)return null;let t=null;return this.fields.some((r=>(r.name===e&&(t=r.domain),!!t))),t}getField(e){return this.fieldsIndex.get(e)}serviceSupportsSpatialReference(e){return!0}async _fetchService(e){if(!!this.webSocketUrl){if(!this.timeInfo?.trackIdField)throw new l(\"stream-layer:missing-metadata\",\"The stream layer trackIdField must be specified.\");if(!this.objectIdField)throw new l(\"stream-layer:missing-metadata\",\"The stream layer objectIdField must be specified.\");if(!this.fields)throw new l(\"stream-layer:missing-metadata\",\"The stream layer fields must be specified.\");if(!this.geometryType)throw new l(\"stream-layer:missing-metadata\",\"The stream layer geometryType must be specified.\");this.url=this.webSocketUrl}else if(!this.sourceJSON){const{data:r}=await p(this.parsedUrl.path,{query:{f:\"json\",...this.customParameters,...this.parsedUrl.query},responseType:\"json\",signal:e});this.sourceJSON=r}return this.sourceJSON={...this.sourceJSON??{},objectIdField:\"__esri_stream_id__\"},this.read(this.sourceJSON,{origin:\"service\",url:this.parsedUrl}),J(this.renderer,this.fieldsIndex),G(this.timeInfo,this.fieldsIndex),M(this,{origin:\"service\"})}};e([f({type:String})],Y.prototype,\"copyright\",void 0),e([f({readOnly:!0})],Y.prototype,\"defaultPopupTemplate\",null),e([f({type:String,json:{name:\"layerDefinition.definitionExpression\",write:{enabled:!0,allowNull:!0}}})],Y.prototype,\"definitionExpression\",void 0),e([f({type:String})],Y.prototype,\"displayField\",void 0),e([f({type:Q})],Y.prototype,\"elevationInfo\",void 0),e([f(X.fields)],Y.prototype,\"fields\",void 0),e([f(X.fieldsIndex)],Y.prototype,\"fieldsIndex\",void 0),e([f({type:K})],Y.prototype,\"geometryDefinition\",void 0),e([f({type:v.apiValues,json:{read:{reader:v.read}}})],Y.prototype,\"geometryType\",void 0),e([f(E)],Y.prototype,\"labelsVisible\",void 0),e([f({type:[q],json:{read:{source:\"layerDefinition.drawingInfo.labelingInfo\",reader:V},write:{target:\"layerDefinition.drawingInfo.labelingInfo\"}}})],Y.prototype,\"labelingInfo\",void 0),e([f(U)],Y.prototype,\"legendEnabled\",void 0),e([f({type:[\"show\",\"hide\"]})],Y.prototype,\"listMode\",void 0),e([f({type:u})],Y.prototype,\"maxReconnectionAttempts\",void 0),e([f({type:u})],Y.prototype,\"maxReconnectionInterval\",void 0),e([f(O)],Y.prototype,\"maxScale\",void 0),e([f(k)],Y.prototype,\"minScale\",void 0),e([f({type:String})],Y.prototype,\"objectIdField\",void 0),e([f({value:\"ArcGISStreamLayer\",type:[\"ArcGISStreamLayer\"]})],Y.prototype,\"operationalLayerType\",void 0),e([f(N)],Y.prototype,\"popupEnabled\",void 0),e([f({type:r,json:{read:{source:\"popupInfo\"},write:{target:\"popupInfo\"}}})],Y.prototype,\"popupTemplate\",void 0),e([f({type:z})],Y.prototype,\"purgeOptions\",void 0),e([f({types:s,json:{origins:{service:{write:{target:\"drawingInfo.renderer\",enabled:!1}},\"web-scene\":{name:\"layerDefinition.drawingInfo.renderer\",types:n,write:!0}},write:{target:\"layerDefinition.drawingInfo.renderer\"}}})],Y.prototype,\"renderer\",null),e([h(\"service\",\"renderer\",[\"drawingInfo.renderer\",\"defaultSymbol\"]),h(\"renderer\",[\"layerDefinition.drawingInfo.renderer\",\"layerDefinition.defaultSymbol\"])],Y.prototype,\"readRenderer\",null),e([f(A)],Y.prototype,\"screenSizePerspectiveEnabled\",void 0),e([f()],Y.prototype,\"sourceJSON\",void 0),e([f({type:H,json:{origins:{service:{read:{source:\"spatialReference\"}}}}})],Y.prototype,\"spatialReference\",void 0),e([f({json:{read:!1}})],Y.prototype,\"type\",void 0),e([f(C)],Y.prototype,\"url\",void 0),e([f({type:Number})],Y.prototype,\"updateInterval\",void 0),e([f({type:String})],Y.prototype,\"webSocketUrl\",void 0),Y=e([g(\"esri.layers.StreamLayer\")],Y);const Z=j({types:a}),$=Y;export{$ as default};\n"],"names":["t","i","arguments","age","ageReceived","displayCount","maxObservations","this","o","e","r","type","Number","json","write","prototype","p","s","X","_","Y","copyright","definitionExpression","displayField","elevationInfo","fields","fieldsIndex","geometryDefinition","geometryType","labelsVisible","labelingInfo","legendEnabled","maxReconnectionAttempts","maxReconnectionInterval","maxScale","minScale","objectIdField","operationalLayerType","popupEnabled","popupTemplate","purgeOptions","z","screenSizePerspectiveEnabled","sourceJSON","spatialReference","H","url","updateInterval","webSocketUrl","globalThis","addResolvingPromise","Promise","reject","l","resolve","d","signal","loadFromPortal","supportedTypes","catch","y","then","_fetchService","get","createPopupTemplate","set","J","_set","n","layerDefinition","drawingInfo","renderer","m","declaredClass","error","rendererDefinition","layer","context","defaultSymbol","types","length","Z","field","typeIdField","uniqueValueInfos","map","id","symbol","all","load","createConnection","v","createConnectionParameters","customParameters","a","parsedUrl","geometry","where","B","W","returnGeometry","outFields","some","name","domain","timeInfo","trackIdField","path","query","f","responseType","data","read","origin","G","M","R","x","I","F","D","L","b","P","T","c","w","S","String","readOnly","enabled","allowNull","Q","K","reader","E","q","source","V","target","U","u","O","k","value","N","origins","service","h","A","C","g","j","$"],"sourceRoot":""}