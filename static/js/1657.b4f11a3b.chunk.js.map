{"version":3,"file":"static/js/1657.b4f11a3b.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/layers/graphics/sources/geojson/GeoJSONSourceWorker.js","../node_modules/@arcgis/core/layers/graphics/sources/geojson/geojson.js","../node_modules/@arcgis/core/layers/graphics/sources/support/clientSideDefaults.js","../node_modules/@arcgis/core/layers/graphics/sources/support/sourceUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport e from\"../../../../request.js\";import{createTask as t}from\"../../../../core/asyncUtils.js\";import s from\"../../../../core/Error.js\";import i from\"../../../../core/Logger.js\";import{isSome as r}from\"../../../../core/maybe.js\";import{isAbortError as n}from\"../../../../core/promiseUtils.js\";import{getJsonType as a}from\"../../../../geometry/support/jsonUtils.js\";import{WGS84 as o,equals as l}from\"../../../../geometry/support/spatialReferenceUtils.js\";import{convertFromGeometry as u,convertToGeometry as d,convertFromFeatures as p,convertToFeature as c,convertFromFeature as y}from\"../../featureConversionUtils.js\";import h from\"../../data/FeatureStore.js\";import{checkProjectionSupport as m,project as f}from\"../../data/projectionSupport.js\";import{QueryEngine as g}from\"../../data/QueryEngine.js\";import{inferLayerProperties as _,createOptimizedFeatures as I,validateGeoJSON as j}from\"./geojson.js\";import{createDrawingInfo as F,createDefaultTemplate as E,createDefaultAttributesFunction as b}from\"../support/clientSideDefaults.js\";import{loadGeometryEngineForSimplify as w,mixAttributes as T,createFeatureEditSuccessResult as q,createFeatureEditErrorResult as x,simplify as S}from\"../support/sourceUtils.js\";import R from\"../../../support/FieldsIndex.js\";import{kebabDict as k}from\"../../../support/fieldType.js\";import{getFieldDefaultValue as D}from\"../../../support/fieldUtils.js\";const O={hasAttachments:!1,capabilities:\"query, editing, create, delete, update\",useStandardizedQueries:!0,supportsCoordinatesQuantization:!0,supportsReturningQueryGeometry:!0,advancedQueryCapabilities:{supportsQueryAttachments:!1,supportsStatistics:!0,supportsPercentileStatistics:!0,supportsReturningGeometryCentroid:!0,supportsQueryWithDistance:!0,supportsDistinct:!0,supportsReturningQueryExtent:!0,supportsReturningGeometryProperties:!1,supportsHavingClause:!0,supportsOrderBy:!0,supportsPagination:!0,supportsQueryWithResultType:!1,supportsSqlExpression:!0,supportsDisjointSpatialRel:!0}};class C{constructor(){this._queryEngine=null,this._snapshotFeatures=async e=>{const t=await this._fetch(e);return this._createFeatures(t)}}destroy(){this._queryEngine?.destroy(),this._queryEngine=this._fieldsIndex=this._createDefaultAttributes=null}async load(e,t={}){this._loadOptions={url:e.url,customParameters:e.customParameters};const i=[];await this._checkProjection(e.spatialReference);let r=null;e.url&&(r=await this._fetch(t?.signal));const n=_(r,{geometryType:e.geometryType}),a=e.fields||n.fields||[],l=null!=e.hasZ?e.hasZ:n.hasZ,u=n.geometryType;let d=e.objectIdField||n.objectIdFieldName||\"__OBJECTID\";const p=e.spatialReference||o;let c=e.timeInfo;a===n.fields&&n.unknownFields.length>0&&i.push({name:\"geojson-layer:unknown-field-types\",message:\"Some fields types couldn't be inferred from the features and were dropped\",details:{unknownFields:n.unknownFields}});let y=new R(a).get(d);y?(\"esriFieldTypeString\"!==y.type&&(y.type=\"esriFieldTypeOID\"),y.editable=!1,y.nullable=!1,d=y.name):(y={alias:d,name:d,type:\"string\"===n.objectIdFieldType?\"esriFieldTypeString\":\"esriFieldTypeOID\",editable:!1,nullable:!1},a.unshift(y));const m={};for(const o of a){if(null==o.name&&(o.name=o.alias),null==o.alias&&(o.alias=o.name),!o.name)throw new s(\"geojson-layer:invalid-field-name\",\"field name is missing\",{field:o});if(!k.jsonValues.includes(o.type))throw new s(\"geojson-layer:invalid-field-type\",`invalid type for field \"${o.name}\"`,{field:o});if(o.name!==y.name){const e=D(o);void 0!==e&&(m[o.name]=e)}}this._fieldsIndex=new R(a);const f=this._fieldsIndex.requiredFields.indexOf(y);if(f>-1&&this._fieldsIndex.requiredFields.splice(f,1),c){if(c.startTimeField){const e=this._fieldsIndex.get(c.startTimeField);e?(c.startTimeField=e.name,e.type=\"esriFieldTypeDate\"):c.startTimeField=null}if(c.endTimeField){const e=this._fieldsIndex.get(c.endTimeField);e?(c.endTimeField=e.name,e.type=\"esriFieldTypeDate\"):c.endTimeField=null}if(c.trackIdField){const e=this._fieldsIndex.get(c.trackIdField);e?c.trackIdField=e.name:(c.trackIdField=null,i.push({name:\"geojson-layer:invalid-timeInfo-trackIdField\",message:\"trackIdField is missing\",details:{timeInfo:c}}))}c.startTimeField||c.endTimeField||(i.push({name:\"geojson-layer:invalid-timeInfo\",message:\"startTimeField and endTimeField are missing\",details:{timeInfo:c}}),c=null)}const I=u?F(u):null,j={warnings:i,featureErrors:[],layerDefinition:{...O,drawingInfo:I,templates:E(m),extent:null,geometryType:u,objectIdField:d,fields:a,hasZ:!!l,timeInfo:c}};this._queryEngine=new g({fields:a,geometryType:u,hasM:!1,hasZ:l,objectIdField:d,spatialReference:p,timeInfo:c,featureStore:new h({geometryType:u,hasM:!1,hasZ:l}),cacheSpatialQueries:!0}),this._createDefaultAttributes=b(m,d);const w=await this._createFeatures(r);this._objectIdGenerator=this._createObjectIdGenerator(this._queryEngine,w);const T=this._normalizeFeatures(w,j.warnings,j.featureErrors);if(this._queryEngine.featureStore.addMany(T),j.layerDefinition.extent=this._queryEngine.fullExtent,j.layerDefinition.timeInfo){const{start:e,end:t}=this._queryEngine.timeExtent;j.layerDefinition.timeInfo.timeExtent=[e,t]}return j}async applyEdits(e){const{spatialReference:t,geometryType:s}=this._queryEngine;return await Promise.all([w(t,s),m(e.adds,t),m(e.updates,t)]),await this._waitSnapshotComplete(),this._applyEdits(e)}async queryFeatures(e={},t={}){return await this._waitSnapshotComplete(),this._queryEngine.executeQuery(e,t.signal)}async queryFeatureCount(e={},t={}){return await this._waitSnapshotComplete(),this._queryEngine.executeQueryForCount(e,t.signal)}async queryObjectIds(e={},t={}){return await this._waitSnapshotComplete(),this._queryEngine.executeQueryForIds(e,t.signal)}async queryExtent(e={},t={}){return await this._waitSnapshotComplete(),this._queryEngine.executeQueryForExtent(e,t.signal)}async querySnapping(e,t={}){return await this._waitSnapshotComplete(),this._queryEngine.executeQueryForSnapping(e,t.signal)}async refresh(e){return this._loadOptions.customParameters=e,this._snapshotTask?.abort(),this._snapshotTask=t(this._snapshotFeatures),this._snapshotTask.promise.then((e=>{this._queryEngine.featureStore.clear(),this._objectIdGenerator=this._createObjectIdGenerator(this._queryEngine,e);const t=this._normalizeFeatures(e);t&&this._queryEngine.featureStore.addMany(t)}),(e=>{this._queryEngine.featureStore.clear(),n(e)||i.getLogger(\"esri.layers.GeoJSONLayer\").error(new s(\"geojson-layer:refresh\",\"An error occurred during refresh\",{error:e}))})),await this._waitSnapshotComplete(),{extent:this._queryEngine.fullExtent,timeExtent:this._queryEngine.timeExtent}}async _createFeatures(e){const{geometryType:t,hasZ:s,objectIdField:i}=this._queryEngine,n=I(e,{geometryType:t,hasZ:s,objectIdField:i});if(!l(this._queryEngine.spatialReference,o))for(const a of n)r(a.geometry)&&(a.geometry=u(f(d(a.geometry,this._queryEngine.geometryType,this._queryEngine.hasZ,!1),o,this._queryEngine.spatialReference)));return n}async _waitSnapshotComplete(){if(this._snapshotTask&&!this._snapshotTask.finished){try{await this._snapshotTask.promise}catch{}return this._waitSnapshotComplete()}}async _fetch(t){const{url:s,customParameters:i}=this._loadOptions,r=(await e(s,{responseType:\"json\",query:{...i},signal:t})).data;return await j(r),r}_normalizeFeatures(e,t,s){const{objectIdField:i}=this._queryEngine,r=[];for(const n of e){const e=this._createDefaultAttributes(),a=T(this._fieldsIndex,e,n.attributes,!0,t);a?s?.push(a):(this._assignObjectId(e,n.attributes,!0),n.attributes=e,n.objectId=e[i],r.push(n))}return r}_applyEdits(e){const{adds:t,updates:s,deletes:i}=e,r={addResults:[],deleteResults:[],updateResults:[],uidToObjectId:{}};if(t&&t.length&&this._applyAddEdits(r,t),s&&s.length&&this._applyUpdateEdits(r,s),i&&i.length){for(const e of i)r.deleteResults.push(q(e));this._queryEngine.featureStore.removeManyById(i)}return{extent:this._queryEngine.fullExtent,timeExtent:this._queryEngine.timeExtent,featureEditResults:r}}_applyAddEdits(e,t){const{addResults:s}=e,{geometryType:i,hasM:n,hasZ:o,objectIdField:l,spatialReference:u,featureStore:d}=this._queryEngine,c=[];for(const p of t){if(p.geometry&&i!==a(p.geometry)){s.push(x(\"Incorrect geometry type.\"));continue}const t=this._createDefaultAttributes(),n=T(this._fieldsIndex,t,p.attributes);if(n)s.push(n);else{if(this._assignObjectId(t,p.attributes),p.attributes=t,null!=p.uid){const t=p.attributes[l];e.uidToObjectId[p.uid]=t}if(r(p.geometry)){const e=p.geometry.spatialReference??u;p.geometry=f(S(p.geometry,e),e,u)}c.push(p),s.push(q(p.attributes[l]))}}d.addMany(p([],c,i,o,n,l))}_applyUpdateEdits({updateResults:e},t){const{geometryType:s,hasM:i,hasZ:n,objectIdField:o,spatialReference:l,featureStore:u}=this._queryEngine;for(const d of t){const{attributes:t,geometry:p}=d,h=t&&t[o];if(null==h){e.push(x(`Identifier field ${o} missing`));continue}if(!u.has(h)){e.push(x(`Feature with object id ${h} missing`));continue}const m=c(u.getFeature(h),s,n,i);if(r(p)){if(s!==a(p)){e.push(x(\"Incorrect geometry type.\"));continue}const t=p.spatialReference??l;m.geometry=f(S(p,t),t,l)}if(t){const s=T(this._fieldsIndex,m.attributes,t);if(s){e.push(s);continue}}u.add(y(m,s,n,i,o)),e.push(q(h))}}_createObjectIdGenerator(e,t){const s=e.fieldsIndex.get(e.objectIdField);if(\"esriFieldTypeString\"===s.type)return()=>s.name+\"-\"+Date.now().toString(16);let i=Number.NEGATIVE_INFINITY;for(const r of t)r.objectId&&(i=Math.max(i,r.objectId));return i=Math.max(0,i)+1,()=>i++}_assignObjectId(e,t,s=!1){const i=this._queryEngine.objectIdField;e[i]=s&&i in t?t[i]:this._objectIdGenerator()}async _checkProjection(e){try{await m(o,e)}catch{throw new s(\"geojson-layer\",\"Projection not supported\")}}}export{C as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/Error.js\";import{OptimizedFeature as t}from\"../../OptimizedFeature.js\";import n from\"../../OptimizedGeometry.js\";import{normalizeFieldName as o,isNumericField as r}from\"../../../support/fieldUtils.js\";const i={LineString:\"esriGeometryPolyline\",MultiLineString:\"esriGeometryPolyline\",MultiPoint:\"esriGeometryMultipoint\",Point:\"esriGeometryPoint\",Polygon:\"esriGeometryPolygon\",MultiPolygon:\"esriGeometryPolygon\"};function s(e){return i[e]}function*c(e){switch(e.type){case\"Feature\":yield e;break;case\"FeatureCollection\":for(const t of e.features)t&&(yield t)}}function*u(e){if(!e)return null;switch(e.type){case\"Point\":yield e.coordinates;break;case\"LineString\":case\"MultiPoint\":yield*e.coordinates;break;case\"MultiLineString\":case\"Polygon\":for(const t of e.coordinates)yield*t;break;case\"MultiPolygon\":for(const t of e.coordinates)for(const e of t)yield*e}}function*l(e,o={}){const{geometryType:r,objectIdField:i}=o;for(const c of e){const{geometry:e,properties:u,id:l}=c;if(e&&s(e.type)!==r)continue;const f=u||{};let a=f[i]??null;i&&null!=l&&!f[i]&&(f[i]=a=l);const y=new t(e?g(new n,e,o):null,f,null,a);yield y}}function f(e){for(const t of e)if(t.length>2)return!0;return!1}function a(e){return!p(e)}function y(e){return p(e)}function p(e){let t=0;for(let n=0;n<e.length;n++){const o=e[n],r=e[(n+1)%e.length];t+=o[0]*r[1]-r[0]*o[1]}return t<=0}function d(e){const t=e[0],n=e[e.length-1];return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]||e.push(t),e}function g(e,t,n){switch(t.type){case\"LineString\":return m(e,t,n);case\"MultiLineString\":return h(e,t,n);case\"MultiPoint\":return w(e,t,n);case\"MultiPolygon\":return P(e,t,n);case\"Point\":return b(e,t,n);case\"Polygon\":return j(e,t,n)}}function m(e,t,n){return G(e,t.coordinates,n),e}function h(e,t,n){for(const o of t.coordinates)G(e,o,n);return e}function w(e,t,n){return G(e,t.coordinates,n),e}function P(e,t,n){for(const o of t.coordinates){S(e,o[0],n);for(let t=1;t<o.length;t++)F(e,o[t],n)}return e}function b(e,t,n){return k(e,t.coordinates,n),e}function j(e,t,n){const o=t.coordinates;S(e,o[0],n);for(let r=1;r<o.length;r++)F(e,o[r],n);return e}function S(e,t,n){const o=d(t);a(o)?M(e,o,n):G(e,o,n)}function F(e,t,n){const o=d(t);y(o)?M(e,o,n):G(e,o,n)}function G(e,t,n){for(const o of t)k(e,o,n);e.lengths.push(t.length)}function M(e,t,n){for(let o=t.length-1;o>=0;o--)k(e,t[o],n);e.lengths.push(t.length)}function k(e,t,n){const[o,r,i]=t;e.coords.push(o,r),n.hasZ&&e.coords.push(i||0)}function O(e){switch(typeof e){case\"string\":return\"esriFieldTypeString\";case\"number\":return\"esriFieldTypeDouble\";default:return\"unknown\"}}function T(t){if(!t)throw new e(\"geojson-layer:empty\",\"GeoJSON data is empty\");if(\"Feature\"!==t.type&&\"FeatureCollection\"!==t.type)throw new e(\"geojson-layer:unsupported-geojson-object\",\"missing or not supported GeoJSON object type\",{data:t});const{crs:n}=t;if(!n)return;const o=\"string\"==typeof n?n:\"name\"===n.type?n.properties.name:\"EPSG\"===n.type?n.properties.code:null,r=new RegExp(\".*(CRS84H?|4326)$\",\"i\");if(!o||!r.test(o))throw new e(\"geojson-layer:unsupported-crs\",\"unsupported GeoJSON 'crs' member\",{crs:n})}function L(e,t={}){const n=[],i=new Set,l=new Set;let a,y=!1,p=null,d=!1,{geometryType:g=null}=t,m=!1;for(const r of c(e)){const{geometry:e,properties:t,id:c}=r;if(!e||(g||(g=s(e.type)),s(e.type)===g)){if(!y){y=f(u(e))}if(d||(d=null!=c,d&&(a=typeof c,p=Object.keys(t).filter((e=>t[e]===c)))),d&&null!=c&&(p.length>1?p=p.filter((e=>t[e]===c)):1===p.length&&(p=t[p[0]]===c?p:[])),!m&&t){let e=!0;for(const r in t){if(i.has(r))continue;const s=t[r];if(null==s){e=!1,l.add(r);continue}const c=O(s);\"unknown\"!==c?(l.delete(r),i.add(r),n.push({name:o(r),alias:r,type:c})):l.add(r)}m=e}}}const h=o(1===p?.length&&p[0]||null);if(h)for(const o of n)if(o.name===h&&r(o)){o.type=\"esriFieldTypeOID\";break}return{fields:n,geometryType:g,hasZ:y,objectIdFieldName:h,objectIdFieldType:a,unknownFields:Array.from(l)}}function I(e,t){return Array.from(l(c(e),t))}export{I as createOptimizedFeatures,s as getGeometryType,L as inferLayerProperties,T as validateGeoJSON};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport has from\"../../../../core/has.js\";import{clone as t}from\"../../../../core/lang.js\";import{queryCapabilities as s}from\"../../data/QueryEngineCapabilities.js\";import{defaultPointSymbolJSON as e,defaultPolylineSymbolJSON as r,defaultPolygonSymbolJSON as p}from\"../../../../symbols/support/defaultsJSON.js\";function o(t){return{renderer:{type:\"simple\",symbol:\"esriGeometryPoint\"===t||\"esriGeometryMultipoint\"===t?e:\"esriGeometryPolyline\"===t?r:p}}}const u=/^[_$a-zA-Z][_$a-zA-Z0-9]*$/;let n=1;function i(t,s){if(has(\"esri-csp-restrictions\"))return()=>({[s]:null,...t});try{let e=`this.${s} = null;`;for(const s in t){e+=`this${u.test(s)?`.${s}`:`[\"${s}\"]`} = ${JSON.stringify(t[s])};`}const r=new Function(`\\n      return class AttributesClass$${n++} {\\n        constructor() {\\n          ${e};\\n        }\\n      }\\n    `)();return()=>new r}catch(e){return()=>({[s]:null,...t})}}function a(s={}){return[{name:\"New Feature\",description:\"\",prototype:{attributes:t(s)}}]}function l(t,e){return{analytics:{supportsCacheHint:!1},attachment:null,data:{isVersioned:!1,supportsAttachment:!1,supportsM:!1,supportsZ:t},metadata:{supportsAdvancedFieldProperties:!1},operations:{supportsCalculate:!1,supportsTruncate:!1,supportsValidateSql:!1,supportsAdd:e,supportsDelete:e,supportsEditing:e,supportsChangeTracking:!1,supportsQuery:!0,supportsQueryAnalytics:!1,supportsQueryAttachments:!1,supportsQueryTopFeatures:!1,supportsResizeAttachments:!1,supportsSync:!1,supportsUpdate:e,supportsExceedsLimitStatistics:!0},query:s,queryRelated:{supportsCount:!0,supportsOrderBy:!0,supportsPagination:!0,supportsCacheHint:!1},queryTopFeatures:{supportsCacheHint:!1},editing:{supportsGeometryUpdate:e,supportsGlobalId:!1,supportsReturnServiceEditsInSourceSpatialReference:!1,supportsRollbackOnFailure:!1,supportsUpdateWithoutM:!1,supportsUploadWithItemId:!1,supportsDeleteByAnonymous:!1,supportsDeleteByOthers:!1,supportsUpdateByAnonymous:!1,supportsUpdateByOthers:!1}}}export{l as createCapabilities,i as createDefaultAttributesFunction,a as createDefaultTemplate,o as createDrawingInfo};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{isNone as e}from\"../../../../core/maybe.js\";import{isValid as t}from\"../../../../geometry/support/spatialReferenceUtils.js\";import{validateFieldValue as n,validationErrorToString as i,isNumericField as r,isStringField as s,sanitizeNullFieldValue as o}from\"../../../support/fieldUtils.js\";class l{constructor(){this.code=null,this.description=null}}class u{constructor(e){this.error=new l,this.globalId=null,this.objectId=null,this.success=!1,this.uniqueId=null,this.error.description=e}}function a(e){return new u(e)}class c{constructor(e){this.globalId=null,this.success=!0,this.objectId=this.uniqueId=e}}function f(e){return new c(e)}const d=new Set;function m(e,t,r,s=!1,o){d.clear();for(const l in r){const u=e.get(l);if(!u)continue;const c=r[l],f=p(u,c);if(f!==c&&o&&o.push({name:\"invalid-value-type\",message:\"attribute value was converted to match the field type\",details:{field:u,originalValue:c,sanitizedValue:f}}),d.add(u.name),u&&(s||u.editable)){const e=n(u,f);if(e)return a(i(e,u,f));t[u.name]=f}}for(const n of e?.requiredFields??[])if(!d.has(n.name))return a(`missing required field \"${n.name}\"`);return null}function p(e,t){let n=t;return\"string\"==typeof t&&r(e)?n=parseFloat(t):null!=t&&s(e)&&\"string\"!=typeof t&&(n=String(t)),o(n)}let h;function g(n,i){if(!n||!t(i))return n;if(\"rings\"in n||\"paths\"in n){if(e(h))throw new TypeError(\"geometry engine not loaded\");return h.simplify(i,n)}return n}async function y(){return e(h)&&(h=await import(\"../../../../geometry/geometryEngineJSON.js\")),h}async function w(e,n){!t(e)||\"esriGeometryPolygon\"!==n&&\"esriGeometryPolyline\"!==n||await y()}export{a as createFeatureEditErrorResult,f as createFeatureEditSuccessResult,w as loadGeometryEngineForSimplify,m as mixAttributes,g as simplify};\n"],"names":["O","hasAttachments","capabilities","useStandardizedQueries","supportsCoordinatesQuantization","supportsReturningQueryGeometry","advancedQueryCapabilities","supportsQueryAttachments","supportsStatistics","supportsPercentileStatistics","supportsReturningGeometryCentroid","supportsQueryWithDistance","supportsDistinct","supportsReturningQueryExtent","supportsReturningGeometryProperties","supportsHavingClause","supportsOrderBy","supportsPagination","supportsQueryWithResultType","supportsSqlExpression","supportsDisjointSpatialRel","C","this","_queryEngine","_snapshotFeatures","e","_fetch","t","_createFeatures","destroy","_fieldsIndex","_createDefaultAttributes","_loadOptions","url","customParameters","i","_checkProjection","spatialReference","r","signal","n","_","geometryType","a","fields","l","hasZ","u","d","objectIdField","objectIdFieldName","p","o","c","timeInfo","unknownFields","length","push","name","message","details","y","R","get","type","editable","nullable","alias","objectIdFieldType","unshift","m","s","field","k","D","f","requiredFields","indexOf","splice","startTimeField","endTimeField","trackIdField","I","F","j","warnings","featureErrors","layerDefinition","drawingInfo","templates","E","extent","g","hasM","featureStore","h","cacheSpatialQueries","b","w","_objectIdGenerator","_createObjectIdGenerator","T","_normalizeFeatures","addMany","fullExtent","timeExtent","start","end","Promise","all","adds","updates","_waitSnapshotComplete","_applyEdits","executeQuery","executeQueryForCount","executeQueryForIds","executeQueryForExtent","executeQueryForSnapping","_snapshotTask","abort","promise","then","clear","error","geometry","finished","responseType","query","data","attributes","_assignObjectId","objectId","deletes","addResults","deleteResults","updateResults","uidToObjectId","_applyAddEdits","_applyUpdateEdits","q","removeManyById","featureEditResults","x","uid","S","has","getFeature","add","fieldsIndex","Date","now","toString","Number","NEGATIVE_INFINITY","Math","max","LineString","MultiLineString","MultiPoint","Point","Polygon","MultiPolygon","features","coordinates","G","P","M","lengths","coords","crs","properties","code","RegExp","test","L","Set","id","Object","keys","filter","delete","Array","from","renderer","symbol","JSON","stringify","Function","description","prototype","analytics","supportsCacheHint","attachment","isVersioned","supportsAttachment","supportsM","supportsZ","metadata","supportsAdvancedFieldProperties","operations","supportsCalculate","supportsTruncate","supportsValidateSql","supportsAdd","supportsDelete","supportsEditing","supportsChangeTracking","supportsQuery","supportsQueryAnalytics","supportsQueryTopFeatures","supportsResizeAttachments","supportsSync","supportsUpdate","supportsExceedsLimitStatistics","queryRelated","supportsCount","queryTopFeatures","editing","supportsGeometryUpdate","supportsGlobalId","supportsReturnServiceEditsInSourceSpatialReference","supportsRollbackOnFailure","supportsUpdateWithoutM","supportsUploadWithItemId","supportsDeleteByAnonymous","supportsDeleteByOthers","supportsUpdateByAnonymous","supportsUpdateByOthers","globalId","success","uniqueId","originalValue","sanitizedValue","parseFloat","String","TypeError","simplify"],"sourceRoot":""}