"use strict";(self.webpackChunkData_Design_AI_for_Urban_Data_and_Viz_Harvard_GSD=self.webpackChunkData_Design_AI_for_Urban_Data_and_Viz_Harvard_GSD||[]).push([[4318],{48035:function(i,t,e){e.d(t,{b:function(){return o},j:function(){return y}});var s=e(74165),n=e(15861),h=e(65905),r=e(93169),a=null,x=null;function y(){return _.apply(this,arguments)}function _(){return(_=(0,n.Z)((0,s.Z)().mark((function i(){return(0,s.Z)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(a||(a=l()),a));case 1:case"end":return i.stop()}}),i)})))).apply(this,arguments)}function l(){return u.apply(this,arguments)}function u(){return u=(0,n.Z)((0,s.Z)().mark((function i(){var t;return(0,s.Z)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(!(0,r.Z)("esri-csp-restrictions")){i.next=6;break}return i.next=3,e.e(5948).then(e.bind(e,5948)).then((function(i){return i.l}));case 3:i.t0=i.sent,i.next=9;break;case 6:return i.next=8,e.e(7069).then(e.bind(e,97069)).then((function(i){return i.l}));case 8:i.t0=i.sent;case 9:return t=i.t0,i.next=12,t.load({locateFile:function(i){return(0,h.V)("esri/core/libs/libtess/".concat(i))}});case 12:x=i.sent;case 13:case"end":return i.stop()}}),i)}))),u.apply(this,arguments)}function o(i,t){var e=Math.max(i.length,128e3);return x.triangulate(i,t,e)}},60652:function(i,t,e){e.d(t,{E:function(){return r},V:function(){return s}});var s,n=e(15671),h=e(43144),r=function(){function i(t,e){(0,n.Z)(this,i),this.x=t,this.y=e}return(0,h.Z)(i,[{key:"clone",value:function(){return new i(this.x,this.y)}},{key:"equals",value:function(i,t){return i===this.x&&t===this.y}},{key:"isEqual",value:function(i){return i.x===this.x&&i.y===this.y}},{key:"setCoords",value:function(i,t){this.x=i,this.y=t}},{key:"normalize",value:function(){var i=this.x,t=this.y,e=Math.sqrt(i*i+t*t);this.x/=e,this.y/=e}},{key:"rightPerpendicular",value:function(){var i=this.x;this.x=this.y,this.y=-i}},{key:"move",value:function(i,t){this.x+=i,this.y+=t}},{key:"assign",value:function(i){this.x=i.x,this.y=i.y}},{key:"assignAdd",value:function(i,t){this.x=i.x+t.x,this.y=i.y+t.y}},{key:"assignSub",value:function(i,t){this.x=i.x-t.x,this.y=i.y-t.y}},{key:"rotate",value:function(i,t){var e=this.x,s=this.y;this.x=e*i-s*t,this.y=e*t+s*i}},{key:"scale",value:function(i){this.x*=i,this.y*=i}},{key:"length",value:function(){var i=this.x,t=this.y;return Math.sqrt(i*i+t*t)}}],[{key:"distance",value:function(i,t){var e=t.x-i.x,s=t.y-i.y;return Math.sqrt(e*e+s*s)}},{key:"add",value:function(t,e){return new i(t.x+e.x,t.y+e.y)}},{key:"sub",value:function(t,e){return new i(t.x-e.x,t.y-e.y)}}]),i}();!function(i){i[i.Unknown=0]="Unknown",i[i.Point=1]="Point",i[i.LineString=2]="LineString",i[i.Polygon=3]="Polygon"}(s||(s={}))},91623:function(i,t,e){e.d(t,{I:function(){return u},b:function(){return l}});var s,n,h=e(43144),r=e(15671),a=e(94109),x=e(60652),y=e(13200),_=(0,h.Z)((function i(t,e,s){(0,r.Z)(this,i),this.ratio=t,this.x=e,this.y=s})),l=function(){function i(t,e,s){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8,h=arguments.length>4&&void 0!==arguments[4]?arguments[4]:8;(0,r.Z)(this,i),this._lines=[],this._starts=[],this.validateTessellation=!0,this._pixelRatio=n,this._pixelMargin=h,this._tileSize=a.I_*n,this._dz=t,this._yPos=e,this._xPos=s}return(0,h.Z)(i,[{key:"setPixelMargin",value:function(i){i!==this._pixelMargin&&(this._pixelMargin=i,this.setExtent(this._extent))}},{key:"setExtent",value:function(i){this._extent=i,this._finalRatio=this._tileSize/i*(1<<this._dz);var t=this._pixelRatio*this._pixelMargin;t/=this._finalRatio;var e=i>>this._dz;t>e&&(t=e),this._margin=t,this._xmin=e*this._xPos-t,this._ymin=e*this._yPos-t,this._xmax=this._xmin+e+2*t,this._ymax=this._ymin+e+2*t}},{key:"reset",value:function(i){this._type=i,this._lines=[],this._starts=[],this._line=null,this._start=0}},{key:"moveTo",value:function(i,t){this._pushLine(),this._prevIsIn=this._isIn(i,t),this._moveTo(i,t,this._prevIsIn),this._prevPt=new x.E(i,t),this._firstPt=new x.E(i,t),this._dist=0}},{key:"lineTo",value:function(i,t){var e,s,n,h,r,a,y,l,u=this._isIn(i,t),o=new x.E(i,t),v=x.E.distance(this._prevPt,o);if(u)this._prevIsIn?this._lineTo(i,t,!0):(e=this._prevPt,s=o,n=this._intersect(s,e),this._start=this._dist+v*(1-this._r),this._lineTo(n.x,n.y,!0),this._lineTo(s.x,s.y,!0));else if(this._prevIsIn)s=this._prevPt,e=o,n=this._intersect(s,e),this._lineTo(n.x,n.y,!0),this._lineTo(e.x,e.y,!1);else{var f=this._prevPt,c=o;if(f.x<=this._xmin&&c.x<=this._xmin||f.x>=this._xmax&&c.x>=this._xmax||f.y<=this._ymin&&c.y<=this._ymin||f.y>=this._ymax&&c.y>=this._ymax)this._lineTo(c.x,c.y,!1);else{var m=[];if((f.x<this._xmin&&c.x>this._xmin||f.x>this._xmin&&c.x<this._xmin)&&(h=(this._xmin-f.x)/(c.x-f.x),(l=f.y+h*(c.y-f.y))<=this._ymin?a=!1:l>=this._ymax?a=!0:m.push(new _(h,this._xmin,l))),(f.x<this._xmax&&c.x>this._xmax||f.x>this._xmax&&c.x<this._xmax)&&(h=(this._xmax-f.x)/(c.x-f.x),(l=f.y+h*(c.y-f.y))<=this._ymin?a=!1:l>=this._ymax?a=!0:m.push(new _(h,this._xmax,l))),(f.y<this._ymin&&c.y>this._ymin||f.y>this._ymin&&c.y<this._ymin)&&(h=(this._ymin-f.y)/(c.y-f.y),(y=f.x+h*(c.x-f.x))<=this._xmin?r=!1:y>=this._xmax?r=!0:m.push(new _(h,y,this._ymin))),(f.y<this._ymax&&c.y>this._ymax||f.y>this._ymax&&c.y<this._ymax)&&(h=(this._ymax-f.y)/(c.y-f.y),(y=f.x+h*(c.x-f.x))<=this._xmin?r=!1:y>=this._xmax?r=!0:m.push(new _(h,y,this._ymax))),0===m.length)r?a?this._lineTo(this._xmax,this._ymax,!0):this._lineTo(this._xmax,this._ymin,!0):a?this._lineTo(this._xmin,this._ymax,!0):this._lineTo(this._xmin,this._ymin,!0);else if(m.length>1&&m[0].ratio>m[1].ratio)this._start=this._dist+v*m[1].ratio,this._lineTo(m[1].x,m[1].y,!0),this._lineTo(m[0].x,m[0].y,!0);else{this._start=this._dist+v*m[0].ratio;for(var d=0;d<m.length;d++)this._lineTo(m[d].x,m[d].y,!0)}this._lineTo(c.x,c.y,!1)}}this._dist+=v,this._prevIsIn=u,this._prevPt=o}},{key:"close",value:function(){if(this._line.length>2){var i=this._firstPt,t=this._prevPt;i.x===t.x&&i.y===t.y||this.lineTo(i.x,i.y);for(var e=this._line,s=e.length;s>=4&&(e[0].x===e[1].x&&e[0].x===e[s-2].x||e[0].y===e[1].y&&e[0].y===e[s-2].y);)e.pop(),e[0].x=e[s-2].x,e[0].y=e[s-2].y,--s}}},{key:"result",value:function(){var i=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._pushLine(),0===this._lines.length?null:(this._type===x.V.Polygon&&i&&o.simplify(this._tileSize,this._margin*this._finalRatio,this._lines),this._lines)}},{key:"resultWithStarts",value:function(){if(this._type!==x.V.LineString)throw new Error("Only valid for lines");this._pushLine();var i=this._lines,t=i.length;if(0===t)return null;for(var e=[],s=0;s<t;s++)e.push({line:i[s],start:this._starts[s]||0});return e}},{key:"_isIn",value:function(i,t){return i>=this._xmin&&i<=this._xmax&&t>=this._ymin&&t<=this._ymax}},{key:"_intersect",value:function(i,t){var e,s,n;if(t.x>=this._xmin&&t.x<=this._xmax)n=((s=t.y<=this._ymin?this._ymin:this._ymax)-i.y)/(t.y-i.y),e=i.x+n*(t.x-i.x);else if(t.y>=this._ymin&&t.y<=this._ymax)n=((e=t.x<=this._xmin?this._xmin:this._xmax)-i.x)/(t.x-i.x),s=i.y+n*(t.y-i.y);else{s=t.y<=this._ymin?this._ymin:this._ymax;var h=((e=t.x<=this._xmin?this._xmin:this._xmax)-i.x)/(t.x-i.x),r=(s-i.y)/(t.y-i.y);h<r?(n=h,s=i.y+h*(t.y-i.y)):(n=r,e=i.x+r*(t.x-i.x))}return this._r=n,new x.E(e,s)}},{key:"_pushLine",value:function(){this._line&&(this._type===x.V.Point?this._line.length>0&&(this._lines.push(this._line),this._starts.push(this._start)):this._type===x.V.LineString?this._line.length>1&&(this._lines.push(this._line),this._starts.push(this._start)):this._type===x.V.Polygon&&this._line.length>3&&(this._lines.push(this._line),this._starts.push(this._start))),this._line=[],this._start=0}},{key:"_moveTo",value:function(i,t,e){this._type!==x.V.Polygon?e&&(i=Math.round((i-(this._xmin+this._margin))*this._finalRatio),t=Math.round((t-(this._ymin+this._margin))*this._finalRatio),this._line.push(new x.E(i,t))):(e||(i<this._xmin&&(i=this._xmin),i>this._xmax&&(i=this._xmax),t<this._ymin&&(t=this._ymin),t>this._ymax&&(t=this._ymax)),i=Math.round((i-(this._xmin+this._margin))*this._finalRatio),t=Math.round((t-(this._ymin+this._margin))*this._finalRatio),this._line.push(new x.E(i,t)),this._isH=!1,this._isV=!1)}},{key:"_lineTo",value:function(i,t,e){var s,n;if(this._type!==x.V.Polygon)if(e){if(i=Math.round((i-(this._xmin+this._margin))*this._finalRatio),t=Math.round((t-(this._ymin+this._margin))*this._finalRatio),this._line.length>0&&(s=this._line[this._line.length-1]).equals(i,t))return;this._line.push(new x.E(i,t))}else this._line&&this._line.length>0&&this._pushLine();else if(e||(i<this._xmin&&(i=this._xmin),i>this._xmax&&(i=this._xmax),t<this._ymin&&(t=this._ymin),t>this._ymax&&(t=this._ymax)),i=Math.round((i-(this._xmin+this._margin))*this._finalRatio),t=Math.round((t-(this._ymin+this._margin))*this._finalRatio),this._line&&this._line.length>0){var h=(s=this._line[this._line.length-1]).x===i,r=s.y===t;if(h&&r)return;this._isH&&h||this._isV&&r?(s.x=i,s.y=t,(n=this._line[this._line.length-2]).x===i&&n.y===t?(this._line.pop(),this._line.length<=1?(this._isH=!1,this._isV=!1):(n=this._line[this._line.length-2],this._isH=n.x===i,this._isV=n.y===t)):(this._isH=n.x===i,this._isV=n.y===t)):(this._line.push(new x.E(i,t)),this._isH=h,this._isV=r)}else this._line.push(new x.E(i,t))}}]),i}(),u=function(){function i(){(0,r.Z)(this,i)}return(0,h.Z)(i,[{key:"setExtent",value:function(i){this._ratio=4096===i?1:4096/i}},{key:"validateTessellation",get:function(){return this._ratio<1}},{key:"reset",value:function(i){this._lines=[],this._line=null}},{key:"moveTo",value:function(i,t){this._line&&this._lines.push(this._line),this._line=[];var e=this._ratio;this._line.push(new x.E(i*e,t*e))}},{key:"lineTo",value:function(i,t){var e=this._ratio;this._line.push(new x.E(i*e,t*e))}},{key:"close",value:function(){var i=this._line;i&&!i[0].isEqual(i[i.length-1])&&i.push(i[0])}},{key:"result",value:function(){return this._line&&this._lines.push(this._line),0===this._lines.length?null:this._lines}}]),i}();(n=s||(s={}))[n.sideLeft=0]="sideLeft",n[n.sideRight=1]="sideRight",n[n.sideTop=2]="sideTop",n[n.sideBottom=3]="sideBottom";var o=function(){function i(){(0,r.Z)(this,i)}return(0,h.Z)(i,null,[{key:"simplify",value:function(t,e,n){if(n){for(var h=-e,r=t+e,a=-e,x=t+e,y=[],_=[],l=n.length,u=0;u<l;++u){var o=n[u];if(o&&!(o.length<2))for(var v=void 0,f=o[0],c=o.length,m=1;m<c;++m)v=o[m],f.x===v.x&&(f.x<=h&&(f.y>v.y?(y.push(u),y.push(m),y.push(s.sideLeft),y.push(-1)):(_.push(u),_.push(m),_.push(s.sideLeft),_.push(-1))),f.x>=r&&(f.y<v.y?(y.push(u),y.push(m),y.push(s.sideRight),y.push(-1)):(_.push(u),_.push(m),_.push(s.sideRight),_.push(-1)))),f.y===v.y&&(f.y<=a&&(f.x<v.x?(y.push(u),y.push(m),y.push(s.sideTop),y.push(-1)):(_.push(u),_.push(m),_.push(s.sideTop),_.push(-1))),f.y>=x&&(f.x>v.x?(y.push(u),y.push(m),y.push(s.sideBottom),y.push(-1)):(_.push(u),_.push(m),_.push(s.sideBottom),_.push(-1)))),f=v}if(0!==y.length&&0!==_.length){i.fillParent(n,_,y),i.fillParent(n,y,_);var d=[];i.calcDeltas(d,_,y),i.calcDeltas(d,y,_),i.addDeltas(d,n)}}}},{key:"fillParent",value:function(i,t,e){for(var n=e.length,h=t.length,r=0;r<h;r+=4){for(var a=t[r],x=t[r+1],_=t[r+2],l=i[a][x-1],u=i[a][x],o=8092,v=-1,f=0;f<n;f+=4)if(e[f+2]===_){var c=e[f],m=e[f+1],d=i[c][m-1],p=i[c][m];switch(_){case s.sideLeft:case s.sideRight:if((0,y.vX)(l.y,d.y,p.y)&&(0,y.vX)(u.y,d.y,p.y)){var g=Math.abs(p.y-d.y);g<o&&(o=g,v=f)}break;case s.sideTop:case s.sideBottom:if((0,y.vX)(l.x,d.x,p.x)&&(0,y.vX)(u.x,d.x,p.x)){var w=Math.abs(p.x-d.x);w<o&&(o=w,v=f)}}}t[r+3]=v}}},{key:"calcDeltas",value:function(t,e,s){for(var n=e.length,h=0;h<n;h+=4){var r=i.calcDelta(h,e,s,[]);t.push(e[h]),t.push(e[h+1]),t.push(e[h+2]),t.push(r)}}},{key:"calcDelta",value:function(t,e,s,n){var h=e[t+3];if(-1===h)return 0;var r=n.length;return r>1&&n[r-2]===h?0:(n.push(h),i.calcDelta(h,s,e,n)+1)}},{key:"addDeltas",value:function(i,t){for(var e=i.length,n=0,h=0;h<e;h+=4){var r=i[h+3];r>n&&(n=r)}for(var a=0;a<e;a+=4){var x=t[i[a]],y=i[a+1],_=n-i[a+3];switch(i[a+2]){case s.sideLeft:x[y-1].x-=_,x[y].x-=_,1===y&&(x[x.length-1].x-=_),y===x.length-1&&(x[0].x-=_);break;case s.sideRight:x[y-1].x+=_,x[y].x+=_,1===y&&(x[x.length-1].x+=_),y===x.length-1&&(x[0].x+=_);break;case s.sideTop:x[y-1].y-=_,x[y].y-=_,1===y&&(x[x.length-1].y-=_),y===x.length-1&&(x[0].y-=_);break;case s.sideBottom:x[y-1].y+=_,x[y].y+=_,1===y&&(x[x.length-1].y+=_),y===x.length-1&&(x[0].y+=_)}}}}]),i}()},82010:function(i,t,e){e.d(t,{z:function(){return f}});var s=e(15671),n=e(43144),h=e(48202),r=e(94109);function a(i,t){return i.x===t.x&&i.y===t.y}function x(i,t){return i.x=t.y,i.y=-t.x,i}function y(i,t){return i.x=-t.y,i.y=t.x,i}function _(i,t){return i.x=t.x,i.y=t.y,i}function l(i,t){return i.x=-t.x,i.y=-t.y,i}function u(i){return Math.sqrt(i.x*i.x+i.y*i.y)}function o(i,t){return i.x*t.x+i.y*t.y}function v(i,t,e,s){return i.x=t.x*e+t.y*s,i.y=t.x*s-t.y*e,i}var f=function(){function i(t,e,n){(0,s.Z)(this,i),this._writeVertex=t,this._writeTriangle=e,this._canUseThinTessellation=n,this._prevNormal={x:void 0,y:void 0},this._nextNormal={x:void 0,y:void 0},this._textureNormalLeft={x:0,y:1},this._textureNormalRight={x:0,y:-1},this._textureNormal={x:void 0,y:void 0},this._joinNormal={x:void 0,y:void 0},this._inner={x:void 0,y:void 0},this._outer={x:void 0,y:void 0},this._roundStart={x:void 0,y:void 0},this._roundEnd={x:void 0,y:void 0},this._startBreak={x:void 0,y:void 0},this._endBreak={x:void 0,y:void 0},this._innerPrev={x:void 0,y:void 0},this._innerNext={x:void 0,y:void 0},this._bevelStart={x:void 0,y:void 0},this._bevelEnd={x:void 0,y:void 0},this._bevelMiddle={x:void 0,y:void 0}}return(0,n.Z)(i,[{key:"tessellate",value:function(i,t){(function(i){if(i){var t=i.length;if(!(t<=1)){for(var e=0,s=1;s<t;s++)a(i[s],i[e])||++e===s||(i[e]=i[s]);i.length=e+1}}})(i),this._canUseThinTessellation&&t.halfWidth<r.tQ&&!t.offset?this._tessellateThin(i,t):this._tessellate(i,t)}},{key:"_tessellateThin",value:function(i,t){if(!(i.length<2))for(var e=t.wrapDistance||65535,s=t.initialDistance||0,n=!1,h=i[0].x,r=i[0].y,a=i.length,x=1;x<a;++x){n&&(n=!1,s=0);var y=i[x].x,_=i[x].y,l=y-h,u=_-r,o=Math.sqrt(l*l+u*u);if(l/=o,u/=o,s+o>e){n=!0;var v=(e-s)/o;o=e-s,y=(1-v)*h+v*y,_=(1-v)*r+v*_,--x}var f=this._writeVertex(h,r,0,0,l,u,u,-l,0,-1,s),c=this._writeVertex(h,r,0,0,l,u,-u,l,0,1,s);s+=o;var m=this._writeVertex(y,_,0,0,l,u,u,-l,0,-1,s),d=this._writeVertex(y,_,0,0,l,u,-u,l,0,1,s);this._writeTriangle(f,c,m),this._writeTriangle(c,m,d),h=y,r=_}}},{key:"_tessellate",value:function(i,t){var e=i[0],s=i[i.length-1],n=a(e,s),r=n?3:2;if(!(i.length<r)){var f,c,m,d,p,g=t.pixelCoordRatio,w=null!=t.capType?t.capType:h.RL.BUTT,k=null!=t.joinType?t.joinType:h.AH.MITER,T=null!=t.miterLimit?Math.min(t.miterLimit,4):2,R=null!=t.roundLimit?Math.min(t.roundLimit,1.05):1.05,V=null!=t.halfWidth?t.halfWidth:2,E=!!t.textured,b=null,L=this._prevNormal,M=this._nextNormal,P=-1,D=-1,N=this._joinNormal,I=this._textureNormalLeft,A=this._textureNormalRight,S=this._textureNormal,U=-1,Z=-1,B=t.wrapDistance||65535,H=t.initialDistance||0,z=this._writeVertex,q=this._writeTriangle,O=function(i,t,e,s,n,h){var r=z(c,m,d,p,e,s,i,t,n,h,H);return U>=0&&Z>=0&&r>=0&&q(U,Z,r),U=Z,Z=r,r};n&&(f=i[i.length-2],M.x=s.x-f.x,M.y=s.y-f.y,D=u(M),M.x/=D,M.y/=D);for(var X,j,C=!1,W=0;W<i.length;++W){if(C&&(C=!1,H=0),f&&(L.x=-M.x,L.y=-M.y,H+(P=D)>B&&(C=!0)),C){var Q=(B-H)/P;P=B-H,f={x:(1-Q)*f.x+Q*i[W].x,y:(1-Q)*f.y+Q*i[W].y},--W}else f=i[W];c=f.x,m=f.y;var G=W<=0&&!C,F=W===i.length-1;if(G||(H+=P),(b=F?n?i[1]:null:i[W+1])?(M.x=b.x-c,M.y=b.y-m,D=u(M),M.x/=D,M.y/=D):(M.x=void 0,M.y=void 0),!n){if(G){y(N,M),d=N.x,p=N.y,w===h.RL.SQUARE&&(O(-M.y-M.x,M.x-M.y,M.x,M.y,0,-1),O(M.y-M.x,-M.x-M.y,M.x,M.y,0,1)),w===h.RL.ROUND&&(O(-M.y-M.x,M.x-M.y,M.x,M.y,-1,-1),O(M.y-M.x,-M.x-M.y,M.x,M.y,-1,1)),w!==h.RL.ROUND&&w!==h.RL.BUTT||(O(-M.y,M.x,M.x,M.y,0,-1),O(M.y,-M.x,M.x,M.y,0,1));continue}if(F){x(N,L),d=N.x,p=N.y,w!==h.RL.ROUND&&w!==h.RL.BUTT||(O(L.y,-L.x,-L.x,-L.y,0,-1),O(-L.y,L.x,-L.x,-L.y,0,1)),w===h.RL.SQUARE&&(O(L.y-L.x,-L.x-L.y,-L.x,-L.y,0,-1),O(-L.y-L.x,L.x-L.y,-L.x,-L.y,0,1)),w===h.RL.ROUND&&(O(L.y-L.x,-L.x-L.y,-L.x,-L.y,1,-1),O(-L.y-L.x,L.x-L.y,-L.x,-L.y,1,1));continue}}var J=void 0,K=void 0,Y=(j=M,-((X=L).x*j.y-X.y*j.x));if(Math.abs(Y)<.01)o(L,M)>0?(N.x=L.x,N.y=L.y,Y=1,J=Number.MAX_VALUE,K=!0):(y(N,M),Y=1,J=1,K=!1);else{N.x=(L.x+M.x)/Y,N.y=(L.y+M.y)/Y;var $=((J=u(N))-1)*V*g;K=J>4||$>P&&$>D}d=N.x,p=N.y;var ii=k;switch(k){case h.AH.BEVEL:J<1.05&&(ii=h.AH.MITER);break;case h.AH.ROUND:J<R&&(ii=h.AH.MITER);break;case h.AH.MITER:J>T&&(ii=h.AH.BEVEL)}switch(ii){case h.AH.MITER:if(O(N.x,N.y,-L.x,-L.y,0,-1),O(-N.x,-N.y,-L.x,-L.y,0,1),F)break;if(E){var ti=C?0:H;U=this._writeVertex(c,m,d,p,M.x,M.y,N.x,N.y,0,-1,ti),Z=this._writeVertex(c,m,d,p,M.x,M.y,-N.x,-N.y,0,1,ti)}break;case h.AH.BEVEL:var ei=Y<0,si=void 0,ni=void 0,hi=void 0,ri=void 0;if(ei){var ai=U;U=Z,Z=ai,si=I,ni=A}else si=A,ni=I;if(K)hi=ei?y(this._innerPrev,L):x(this._innerPrev,L),ri=ei?x(this._innerNext,M):y(this._innerNext,M);else{var xi=ei?l(this._inner,N):_(this._inner,N);hi=xi,ri=xi}var yi=ei?x(this._bevelStart,L):y(this._bevelStart,L);O(hi.x,hi.y,-L.x,-L.y,si.x,si.y);var _i=O(yi.x,yi.y,-L.x,-L.y,ni.x,ni.y);if(F)break;var li=ei?y(this._bevelEnd,M):x(this._bevelEnd,M);if(K){var ui=this._writeVertex(c,m,d,p,-L.x,-L.y,0,0,0,0,H);U=this._writeVertex(c,m,d,p,M.x,M.y,ri.x,ri.y,si.x,si.y,H),Z=this._writeVertex(c,m,d,p,M.x,M.y,li.x,li.y,ni.x,ni.y,H),this._writeTriangle(_i,ui,Z)}else{if(E){var oi=this._bevelMiddle;oi.x=(yi.x+li.x)/2,oi.y=(yi.y+li.y)/2,v(S,oi,-L.x,-L.y),O(oi.x,oi.y,-L.x,-L.y,S.x,S.y),v(S,oi,M.x,M.y),U=this._writeVertex(c,m,d,p,M.x,M.y,oi.x,oi.y,S.x,S.y,H),Z=this._writeVertex(c,m,d,p,M.x,M.y,ri.x,ri.y,si.x,si.y,H)}else{var vi=U;U=Z,Z=vi}O(li.x,li.y,M.x,M.y,ni.x,ni.y)}if(ei){var fi=U;U=Z,Z=fi}break;case h.AH.ROUND:var ci=Y<0,mi=void 0,di=void 0;if(ci){var pi=U;U=Z,Z=pi,mi=I,di=A}else mi=A,di=I;var gi=ci?l(this._inner,N):_(this._inner,N),wi=void 0,ki=void 0;K?(wi=ci?y(this._innerPrev,L):x(this._innerPrev,L),ki=ci?x(this._innerNext,M):y(this._innerNext,M)):(wi=gi,ki=gi);var Ti=ci?x(this._roundStart,L):y(this._roundStart,L),Ri=ci?y(this._roundEnd,M):x(this._roundEnd,M),Vi=O(wi.x,wi.y,-L.x,-L.y,mi.x,mi.y),Ei=O(Ti.x,Ti.y,-L.x,-L.y,di.x,di.y);if(F)break;var bi=this._writeVertex(c,m,d,p,-L.x,-L.y,0,0,0,0,H);K||this._writeTriangle(U,Z,bi);var Li=l(this._outer,gi),Mi=this._writeVertex(c,m,d,p,M.x,M.y,Ri.x,Ri.y,di.x,di.y,H),Pi=void 0,Di=void 0,Ni=J>2;if(Ni){var Ii=void 0;J!==Number.MAX_VALUE?(Li.x/=J,Li.y/=J,Ii=(J*((Ii=o(L,Li))*Ii-1)+1)/Ii):Ii=-1,(Pi=ci?x(this._startBreak,L):y(this._startBreak,L)).x+=L.x*Ii,Pi.y+=L.y*Ii,(Di=ci?y(this._endBreak,M):x(this._endBreak,M)).x+=M.x*Ii,Di.y+=M.y*Ii}v(S,Li,-L.x,-L.y);var Ai=this._writeVertex(c,m,d,p,-L.x,-L.y,Li.x,Li.y,S.x,S.y,H);v(S,Li,M.x,M.y);var Si=E?this._writeVertex(c,m,d,p,M.x,M.y,Li.x,Li.y,S.x,S.y,H):Ai,Ui=bi,Zi=E?this._writeVertex(c,m,d,p,M.x,M.y,0,0,0,0,H):bi,Bi=-1,Hi=-1;if(Ni&&(v(S,Pi,-L.x,-L.y),Bi=this._writeVertex(c,m,d,p,-L.x,-L.y,Pi.x,Pi.y,S.x,S.y,H),v(S,Di,M.x,M.y),Hi=this._writeVertex(c,m,d,p,M.x,M.y,Di.x,Di.y,S.x,S.y,H)),E?Ni?(this._writeTriangle(Ui,Ei,Bi),this._writeTriangle(Ui,Bi,Ai),this._writeTriangle(Zi,Si,Hi),this._writeTriangle(Zi,Hi,Mi)):(this._writeTriangle(Ui,Ei,Ai),this._writeTriangle(Zi,Si,Mi)):Ni?(this._writeTriangle(bi,Ei,Bi),this._writeTriangle(bi,Bi,Hi),this._writeTriangle(bi,Hi,Mi)):(this._writeTriangle(bi,Ei,Ai),this._writeTriangle(bi,Si,Mi)),K?(U=this._writeVertex(c,m,d,p,M.x,M.y,ki.x,ki.y,mi.x,mi.y,H),Z=Mi):(U=E?this._writeVertex(c,m,d,p,M.x,M.y,ki.x,ki.y,mi.x,mi.y,H):Vi,this._writeTriangle(U,Zi,Mi),Z=Mi),ci){var zi=U;U=Z,Z=zi}}}}}}]),i}()}}]);
//# sourceMappingURL=4318.6849ebbb.chunk.js.map