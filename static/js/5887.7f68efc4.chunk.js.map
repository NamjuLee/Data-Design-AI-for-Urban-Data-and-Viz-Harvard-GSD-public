{"version":3,"file":"static/js/5887.7f68efc4.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/layers/support/ElevationSampler.js","../node_modules/@arcgis/core/layers/support/ElevationSamplerData.js","../node_modules/@arcgis/core/layers/support/ElevationTile.js","../node_modules/@arcgis/core/layers/support/ElevationQuery.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport\"../../geometry.js\";import\"../../core/has.js\";import e from\"../../core/Logger.js\";import{isNone as t,unwrapOr as n}from\"../../core/maybe.js\";import{getMetersPerUnitForSR as s}from\"../../core/unitUtils.js\";import{toExtent as i,containsXY as o,create as a}from\"../../geometry/support/aaBoundingRect.js\";import{project as r}from\"../../geometry/support/webMercatorUtils.js\";import l from\"../../geometry/Point.js\";const m=e.getLogger(\"esri.layers.support.ElevationSampler\");class c{queryElevation(e){return h(e.clone(),this)}on(){return g}projectIfRequired(e,t){return f(e,t)}}class u extends c{constructor(e,t,n){super(),this.tile=e,this.noDataValue=n;const o=e.tile.extent;this.extent=i(o,t.spatialReference),this.extent.zmin=e.zmin,this.extent.zmax=e.zmax,this._aaExtent=o;const a=s(t.spatialReference),r=t.lodAt(e.tile.level).resolution*a;this.demResolution={min:r,max:r}}get spatialReference(){return this.extent.spatialReference}contains(e){const n=this.projectIfRequired(e,this.spatialReference);return!t(n)&&this.containsAt(n.x,n.y)}containsAt(e,t){return o(this._aaExtent,e,t)}elevationAt(e,t){if(!this.containsAt(e,t)){const n=this.extent,s=`${n.xmin}, ${n.ymin}, ${n.xmax}, ${n.ymax}`;return m.warn(\"#elevationAt()\",`Point used to sample elevation (${e}, ${t}) is outside of the sampler extent (${s})`),this.noDataValue}return n(this.tile.sample(e,t),this.noDataValue)}}class p extends c{constructor(e,t,n){let s;super(),\"number\"==typeof t?(this.noDataValue=t,s=null):(s=t,this.noDataValue=n),this.samplers=s?e.map((e=>new u(e,s,this.noDataValue))):e;const o=this.samplers[0];if(o){this.extent=o.extent.clone();const{min:e,max:t}=o.demResolution;this.demResolution={min:e,max:t};for(let n=1;n<this.samplers.length;n++){const e=this.samplers[n];this.extent.union(e.extent),this.demResolution.min=Math.min(this.demResolution.min,e.demResolution.min),this.demResolution.max=Math.max(this.demResolution.max,e.demResolution.max)}}else this.extent=i(a(),s.spatialReference),this.demResolution={min:0,max:0}}get spatialReference(){return this.extent.spatialReference}elevationAt(e,t){for(const n of this.samplers)if(n.containsAt(e,t))return n.elevationAt(e,t);return m.warn(\"#elevationAt()\",`Point used to sample elevation (${e}, ${t}) is outside of the sampler`),this.noDataValue}}function h(e,t){const n=f(e,t.spatialReference);if(!n)return null;switch(e.type){case\"point\":x(e,n,t);break;case\"polyline\":R(e,n,t);break;case\"multipoint\":d(e,n,t)}return e}function f(e,n){if(t(e))return null;const s=e.spatialReference;if(s.equals(n))return e;const i=r(e,n);return i||m.error(`Cannot project geometry spatial reference (wkid:${s.wkid}) to elevation sampler spatial reference (wkid:${n.wkid})`),i}function x(e,t,n){e.z=n.elevationAt(t.x,t.y)}function R(e,t,n){y.spatialReference=t.spatialReference;const s=e.hasM&&!e.hasZ;for(let i=0;i<e.paths.length;i++){const o=e.paths[i],a=t.paths[i];for(let e=0;e<o.length;e++){const t=o[e],i=a[e];y.x=i[0],y.y=i[1],s&&(t[3]=t[2]),t[2]=n.elevationAt(y.x,y.y)}}e.hasZ=!0}function d(e,t,n){y.spatialReference=t.spatialReference;const s=e.hasM&&!e.hasZ;for(let i=0;i<e.points.length;i++){const o=e.points[i],a=t.points[i];y.x=a[0],y.y=a[1],s&&(o[3]=o[2]),o[2]=n.elevationAt(y.x,y.y)}e.hasZ=!0}const y=new l,g={remove(){}};export{c as ElevationSamplerBase,p as MultiTileElevationSampler,u as TileElevationSampler,h as updateGeometryElevation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nclass t{constructor({values:t,width:h,height:i,noDataValue:s},a){this.pixelData=t,this.width=h,this.height=i,this.safeWidth=.99999999*(h-1),this.noDataValue=s,this.dx=(h-1)/(a[2]-a[0]),this.dy=(h-1)/(a[3]-a[1]),this.x0=a[0],this.y1=a[3]}}export{t as ElevationSamplerData};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{isSome as t,isNone as a}from\"../../core/maybe.js\";import{ElevationSamplerData as i}from\"./ElevationSamplerData.js\";class e{constructor(a,e=null){if(this.tile=a,this.zmin=0,this.zmax=0,t(e)&&t(a)){const t=a.extent;this._samplerData=new i(e,t),this.zmin=e.minValue,this.zmax=e.maxValue}}sample(t,i){if(a(this._samplerData))return;const{safeWidth:e,width:r,pixelData:o,noDataValue:n,dx:l,dy:m,y1:h,x0:f}=this._samplerData,p=s(m*(h-i),0,e),u=s(l*(t-f),0,e),c=Math.floor(p),x=Math.floor(u),D=c*r+x,d=D+r,z=o[D],y=o[d],V=o[D+1],_=o[d+1];if(z!==n&&y!==n&&V!==n&&_!==n){const t=u-x,a=z+(V-z)*t;return a+(y+(_-y)*t-a)*(p-c)}}}function s(t,a,i){return t<a?a:t>i?i:t}export{e as ElevationTile};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{result as e}from\"../../core/asyncUtils.js\";import t from\"../../core/Error.js\";import{assertIsSome as i,isNone as s,isSome as n}from\"../../core/maybe.js\";import{whenOrAbort as o,throwIfAbortError as l,eachAlways as a}from\"../../core/promiseUtils.js\";import{getMetersPerUnitForSR as r}from\"../../core/unitUtils.js\";import c from\"../../geometry/Multipoint.js\";import u from\"../../geometry/Point.js\";import h from\"../../geometry/Polyline.js\";import{initializeProjection as p,project as m}from\"../../geometry/projection.js\";import{fromExtent as f,create as d,contains as y}from\"../../geometry/support/aaBoundingRect.js\";import{MultiTileElevationSampler as T}from\"./ElevationSampler.js\";import{ElevationTile as v}from\"./ElevationTile.js\";import{TileKey as w}from\"./TileKey.js\";class g{async queryAll(e,i,s){if(!(e=s&&s.ignoreInvisibleLayers?e.filter((e=>e.visible)):e.slice()).length)throw new t(\"elevation-query:invalid-layer\",\"Elevation queries require at least one elevation layer to fetch tiles from\");const n=x.fromGeometry(i);let o=!1;s&&s.returnSampleInfo||(o=!0);const l={...A,...s,returnSampleInfo:!0},a=await this.query(e[e.length-1],n,l),r=await this._queryAllContinue(e,a,l);return r.geometry=r.geometry.export(),o&&delete r.sampleInfo,r}async query(e,i,s){if(!e)throw new t(\"elevation-query:invalid-layer\",\"Elevation queries require an elevation layer to fetch tiles from\");if(!i||!(i instanceof x)&&\"point\"!==i.type&&\"multipoint\"!==i.type&&\"polyline\"!==i.type)throw new t(\"elevation-query:invalid-geometry\",\"Only point, polyline and multipoint geometries can be used to query elevation\");const n={...A,...s},o=new R(e,i.spatialReference,n),l=n.signal;return await e.load({signal:l}),await this._createGeometryDescriptor(o,i,l),await this._selectTiles(o,l),await this._populateElevationTiles(o,l),this._sampleGeometryWithElevation(o),this._createQueryResult(o,l)}async createSampler(e,i,s){if(!e)throw new t(\"elevation-query:invalid-layer\",\"Elevation queries require an elevation layer to fetch tiles from\");if(!i||\"extent\"!==i.type)throw new t(\"elevation-query:invalid-extent\",\"Invalid or undefined extent\");const n={...A,...s};return this._createSampler(e,i,n)}async createSamplerAll(e,i,s){if(!(e=s&&s.ignoreInvisibleLayers?e.filter((e=>e.visible)):e.slice()).length)throw new t(\"elevation-query:invalid-layer\",\"Elevation queries require at least one elevation layer to fetch tiles from\");if(!i||\"extent\"!==i.type)throw new t(\"elevation-query:invalid-extent\",\"Invalid or undefined extent\");const n={...A,...s,returnSampleInfo:!0},o=await this._createSampler(e[e.length-1],i,n);return this._createSamplerAllContinue(e,i,o,n)}async _createSampler(e,t,i,s){const n=i.signal;await e.load({signal:n});const o=t.spatialReference,l=e.tileInfo.spatialReference;o.equals(l)||(await p([{source:o,dest:l}],{signal:n}),t=m(t,l));const a=new q(e,t,i,s);return await this._selectTiles(a,n),await this._populateElevationTiles(a,n),new T(a.elevationTiles,a.layer.tileInfo,a.options.noDataValue)}async _createSamplerAllContinue(e,t,i,s){if(e.pop(),!e.length)return i;const n=i.samplers.map((e=>f(e.extent))),o=await this._createSampler(e[e.length-1],t,s,n);if(0===o.samplers.length)return i;const l=i.samplers.concat(o.samplers),a=new T(l,s.noDataValue);return this._createSamplerAllContinue(e,t,a,s)}async _queryAllContinue(e,t,s){const n=e.pop(),o=t.geometry.coordinates,l=t.sampleInfo;i(l);const a=[],r=[];for(let i=0;i<o.length;i++){const t=l[i];t.demResolution>=0?t.source||(t.source=n):e.length&&(a.push(o[i]),r.push(i))}if(!e.length||0===a.length)return t;const c=t.geometry.clone(a),u=await this.query(e[e.length-1],c,s),h=u.sampleInfo;if(!h)throw new Error(\"no sampleInfo\");return r.forEach(((e,t)=>{o[e].z=u.geometry.coordinates[t].z,l[e].demResolution=h[t].demResolution})),this._queryAllContinue(e,t,s)}async _createQueryResult(e,t){const s=await e.geometry.project(e.outSpatialReference,t);i(s);const n={geometry:s.export(),noDataValue:e.options.noDataValue};return e.options.returnSampleInfo&&(n.sampleInfo=this._extractSampleInfo(e)),e.geometry.coordinates.forEach((e=>{e.tile=null,e.elevationTile=null})),n}async _createGeometryDescriptor(e,i,s){let n;const o=e.layer.tileInfo.spatialReference;if(i instanceof x?n=await i.project(o,s):(await p([{source:i.spatialReference,dest:o}],{signal:s}),n=m(i,o)),!n)throw new t(\"elevation-query:spatial-reference-mismatch\",`Cannot query elevation in '${i.spatialReference.wkid}' on an elevation service in '${o.wkid}'`);e.geometry=x.fromGeometry(n)}async _selectTiles(e,i){const s=e.options.demResolution;if(\"geometry\"===e.type&&this._preselectOutsideLayerExtent(e),\"number\"==typeof s)this._selectTilesClosestResolution(e);else if(\"finest-contiguous\"===s)await this._selectTilesFinestContiguous(e,i);else{if(\"auto\"!==s)throw new t(\"elevation-query:invalid-dem-resolution\",`Invalid dem resolution value '${s}', expected a number, \"finest-contiguous\" or \"auto\"`);await this._selectTilesAuto(e,i)}}_preselectOutsideLayerExtent(e){if(s(e.layer.fullExtent))return;const t=new v(null);t.sample=()=>e.options.noDataValue,e.outsideExtentTile=t;const i=e.layer.fullExtent;e.geometry.coordinates.forEach((e=>{const s=e.x,n=e.y;(s<i.xmin||s>i.xmax||n<i.ymin||n>i.ymax)&&(e.elevationTile=t)}))}_selectTilesClosestResolution(e){const t=e.layer.tileInfo,i=this._findNearestDemResolutionLODIndex(t,e.options.demResolution);e.selectTilesAtLOD(i)}_findNearestDemResolutionLODIndex(e,t){const i=t/r(e.spatialReference);let s=e.lods[0],n=0;for(let o=1;o<e.lods.length;o++){const t=e.lods[o];Math.abs(t.resolution-i)<Math.abs(s.resolution-i)&&(s=t,n=o)}return n}async _selectTilesFinestContiguous(e,t){const i=I(e.layer.tileInfo,e.options.minDemResolution);await this._selectTilesFinestContiguousAt(e,i,t)}async _selectTilesFinestContiguousAt(e,i,s){const n=e.layer;if(e.selectTilesAtLOD(i),i<0)return;const a=n.tilemapCache,r=e.getTilesToFetch();try{if(a)await o(Promise.all(r.map((e=>a.fetchAvailability(e.level,e.row,e.col,{signal:s})))),s);else if(await this._populateElevationTiles(e,s),!e.allElevationTilesFetched())throw e.clearElevationTiles(),new t(\"elevation-query:has-unavailable-tiles\")}catch(c){l(c),await this._selectTilesFinestContiguousAt(e,i-1,s)}}async _populateElevationTiles(e,t){const i=e.getTilesToFetch(),s={},l=e.options.cache,r=e.options.noDataValue,c=i.map((async i=>{if(null==i.id)return;const o=`${e.layer.uid}:${i.id}:${r}`,a=n(l)?l.get(o):null,c=n(a)?a:await e.layer.fetchTile(i.level,i.row,i.col,{noDataValue:r,signal:t});n(l)&&l.put(o,c),s[i.id]=new v(i,c)}));await o(a(c),t),e.populateElevationTiles(s)}async _selectTilesAuto(t,i){this._selectTilesAutoFinest(t),this._reduceTilesForMaximumRequests(t);const s=t.layer.tilemapCache;if(!s)return this._selectTilesAutoPrefetchUpsample(t,i);const n=t.getTilesToFetch(),a={},r=n.map((async t=>{const n=new w(null,0,0,0,d()),o=await e(s.fetchAvailabilityUpsample(t.level,t.row,t.col,n,{signal:i}));!1!==o.ok?null!=t.id&&(a[t.id]=n):l(o.error)}));await o(Promise.all(r),i),t.remapTiles(a)}_reduceTilesForMaximumRequests(e){const t=e.layer.tileInfo;let i=0;const s={},n=e=>{null!=e.id&&(e.id in s?s[e.id]++:(s[e.id]=1,i++))},o=e=>{if(null==e.id)return;const t=s[e.id];1===t?(delete s[e.id],i--):s[e.id]=t-1};e.forEachTileToFetch(n,o);let l=!0;for(;l&&(l=!1,e.forEachTileToFetch((s=>{i<=e.options.maximumAutoTileRequests||(o(s),t.upsampleTile(s)&&(l=!0),n(s))}),o),l););}_selectTilesAutoFinest(e){const t=I(e.layer.tileInfo,e.options.minDemResolution);e.selectTilesAtLOD(t,e.options.maximumAutoTileRequests)}async _selectTilesAutoPrefetchUpsample(e,t){const i=e.layer.tileInfo;await this._populateElevationTiles(e,t);let s=!1;e.forEachTileToFetch(((e,t)=>{i.upsampleTile(e)?s=!0:t()})),s&&await this._selectTilesAutoPrefetchUpsample(e,t)}_sampleGeometryWithElevation(e){e.geometry.coordinates.forEach((t=>{const i=t.elevationTile;let s=e.options.noDataValue;if(i){const e=i.sample(t.x,t.y);n(e)?s=e:t.elevationTile=null}t.z=s}))}_extractSampleInfo(e){const t=e.layer.tileInfo,i=r(t.spatialReference);return e.geometry.coordinates.map((s=>{let n=-1;if(s.elevationTile&&s.elevationTile!==e.outsideExtentTile){n=t.lodAt(s.elevationTile.tile.level).resolution*i}return{demResolution:n}}))}}class x{export(){return this._exporter(this.coordinates,this.spatialReference)}clone(e){const t=new x;return t.geometry=this.geometry,t.spatialReference=this.spatialReference,t.coordinates=e||this.coordinates.map((e=>e.clone())),t._exporter=this._exporter,t}async project(e,t){if(this.spatialReference.equals(e))return this.clone();await p([{source:this.spatialReference,dest:e}],{signal:t});const i=new c({spatialReference:this.spatialReference,points:this.coordinates.map((e=>[e.x,e.y]))}),s=m(i,e);if(!s)return null;const n=this.coordinates.map(((e,t)=>{const i=e.clone(),n=s.points[t];return i.x=n[0],i.y=n[1],i})),o=this.clone(n);return o.spatialReference=e,o}static fromGeometry(e){const t=new x;if(t.geometry=e,t.spatialReference=e.spatialReference,e instanceof x)t.coordinates=e.coordinates.map((e=>e.clone())),t._exporter=(t,i)=>{const s=e.clone(t);return s.spatialReference=i,s};else switch(e.type){case\"point\":{const i=e,{hasZ:s,hasM:n}=i;t.coordinates=s&&n?[new _(i.x,i.y,i.z,i.m)]:s?[new _(i.x,i.y,i.z)]:n?[new _(i.x,i.y,null,i.m)]:[new _(i.x,i.y)],t._exporter=(t,i)=>e.hasM?new u(t[0].x,t[0].y,t[0].z,t[0].m,i):new u(t[0].x,t[0].y,t[0].z,i);break}case\"multipoint\":{const i=e,{hasZ:s,hasM:n}=i;t.coordinates=s&&n?i.points.map((e=>new _(e[0],e[1],e[2],e[3]))):s?i.points.map((e=>new _(e[0],e[1],e[2]))):n?i.points.map((e=>new _(e[0],e[1],null,e[2]))):i.points.map((e=>new _(e[0],e[1]))),t._exporter=(t,i)=>e.hasM?new c({points:t.map((e=>[e.x,e.y,e.z,e.m])),hasZ:!0,hasM:!0,spatiaReference:i}):new c(t.map((e=>[e.x,e.y,e.z])),i);break}case\"polyline\":{const i=e,s=[],n=[],{hasZ:o,hasM:l}=e;let a=0;for(const e of i.paths)if(n.push([a,a+e.length]),a+=e.length,o&&l)for(const t of e)s.push(new _(t[0],t[1],t[2],t[3]));else if(o)for(const t of e)s.push(new _(t[0],t[1],t[2]));else if(l)for(const t of e)s.push(new _(t[0],t[1],null,t[2]));else for(const t of e)s.push(new _(t[0],t[1]));t.coordinates=s,t._exporter=(t,i)=>{const s=e.hasM?t.map((e=>[e.x,e.y,e.z,e.m])):t.map((e=>[e.x,e.y,e.z])),o=n.map((e=>s.slice(e[0],e[1])));return new h({paths:o,hasM:e.hasM,hasZ:!0,spatialReference:i})};break}}return t}}class _{constructor(e,t,i=null,s=null,n=null,o=null){this.x=e,this.y=t,this.z=i,this.m=s,this.tile=n,this.elevationTile=o}clone(){return new _(this.x,this.y,this.z,this.m)}}class E{constructor(e,t){this.layer=e,this.options=t}}class R extends E{constructor(e,t,i){super(e,i),this.outSpatialReference=t,this.type=\"geometry\"}selectTilesAtLOD(e){if(e<0)this.geometry.coordinates.forEach((e=>{e.tile=null}));else{const t=this.layer.tileInfo,i=t.lods[e].level;this.geometry.coordinates.forEach((e=>{e.tile=t.tileAt(i,e.x,e.y)}))}}allElevationTilesFetched(){return!this.geometry.coordinates.some((e=>!e.elevationTile))}clearElevationTiles(){for(const e of this.geometry.coordinates)e.elevationTile!==this.outsideExtentTile&&(e.elevationTile=null)}populateElevationTiles(e){for(const t of this.geometry.coordinates)!t.elevationTile&&t.tile?.id&&(t.elevationTile=e[t.tile.id])}remapTiles(e){for(const t of this.geometry.coordinates){const i=t.tile?.id;t.tile=i?e[i]:null}}getTilesToFetch(){const e={},t=[];for(const i of this.geometry.coordinates){const s=i.tile;if(!s)continue;const n=i.tile?.id;i.elevationTile||!n||e[n]||(e[n]=s,t.push(s))}return t}forEachTileToFetch(e){for(const t of this.geometry.coordinates)t.tile&&!t.elevationTile&&e(t.tile,(()=>{t.tile=null}))}}class q extends E{constructor(e,t,i,s){super(e,i),this.type=\"extent\",this.elevationTiles=[],this._candidateTiles=[],this._fetchedCandidates=new Set,this.extent=t.intersection(e.fullExtent),this.maskExtents=s}selectTilesAtLOD(e,t){const i=this._maximumLodForRequests(t),s=Math.min(i,e);s<0?this._candidateTiles.length=0:this._selectCandidateTilesCoveringExtentAt(s)}_maximumLodForRequests(e){const t=this.layer.tileInfo;if(!e)return t.lods.length-1;const i=this.extent;if(s(i))return-1;for(let s=t.lods.length-1;s>=0;s--){const n=t.lods[s],o=n.resolution*t.size[0],l=n.resolution*t.size[1];if(Math.ceil(i.width/o)*Math.ceil(i.height/l)<=e)return s}return-1}allElevationTilesFetched(){return this._candidateTiles.length===this.elevationTiles.length}clearElevationTiles(){this.elevationTiles.length=0,this._fetchedCandidates.clear()}populateElevationTiles(e){for(const t of this._candidateTiles){const i=t.id&&e[t.id];i&&(this._fetchedCandidates.add(t),this.elevationTiles.push(i))}}remapTiles(e){this._candidateTiles=this._uniqueNonOverlappingTiles(this._candidateTiles.map((t=>e[t.id])))}getTilesToFetch(){return this._candidateTiles}forEachTileToFetch(e,t){const i=this._candidateTiles;this._candidateTiles=[],i.forEach((i=>{if(this._fetchedCandidates.has(i))return void(t&&t(i));let s=!1;e(i,(()=>s=!0)),s?t&&t(i):this._candidateTiles.push(i)})),this._candidateTiles=this._uniqueNonOverlappingTiles(this._candidateTiles,t)}_uniqueNonOverlappingTiles(e,t){const i={},s=[];for(const o of e){const e=o.id;e&&!i[e]?(i[e]=o,s.push(o)):t&&t(o)}const n=s.sort(((e,t)=>e.level-t.level));return n.filter(((e,i)=>{for(let s=0;s<i;s++){const i=n[s].extent;if(i&&e.extent&&y(i,e.extent))return t&&t(e),!1}return!0}))}_selectCandidateTilesCoveringExtentAt(e){this._candidateTiles.length=0;const t=this.extent;if(s(t))return;const i=this.layer.tileInfo,n=i.lods[e],o=i.tileAt(n.level,t.xmin,t.ymin),l=o.extent;if(s(l))return;const a=n.resolution*i.size[0],r=n.resolution*i.size[1],c=Math.ceil((t.xmax-l[0])/a),u=Math.ceil((t.ymax-l[1])/r);for(let s=0;s<u;s++)for(let e=0;e<c;e++){const t=new w(null,o.level,o.row-s,o.col+e);i.updateTileInfo(t),this._tileIsMasked(t)||this._candidateTiles.push(t)}}_tileIsMasked(e){return!!this.maskExtents&&this.maskExtents.some((t=>e.extent&&y(t,e.extent)))}}function I(e,t=0){let i=e.lods.length-1;if(t>0){const s=t/r(e.spatialReference),n=e.lods.findIndex((e=>e.resolution<s));0===n?i=0:n>0&&(i=n-1)}return i}const A={maximumAutoTileRequests:20,noDataValue:0,returnSampleInfo:!1,demResolution:\"auto\",minDemResolution:0};export{g as ElevationQuery,x as GeometryDescriptor,I as getFinestLodIndex};\n"],"names":["m","e","c","t","n","f","spatialReference","type","z","elevationAt","x","y","s","hasM","hasZ","i","paths","length","o","a","R","points","d","h","clone","this","g","u","tile","noDataValue","extent","zmin","zmax","_aaExtent","r","lodAt","level","resolution","demResolution","min","max","get","projectIfRequired","containsAt","xmin","ymin","xmax","ymax","warn","sample","p","samplers","map","union","Math","equals","error","wkid","l","remove","values","width","height","pixelData","safeWidth","dx","dy","x0","y1","_samplerData","minValue","maxValue","floor","D","V","_","ignoreInvisibleLayers","filter","visible","slice","fromGeometry","returnSampleInfo","A","query","_queryAllContinue","geometry","export","sampleInfo","signal","load","_createGeometryDescriptor","_selectTiles","_populateElevationTiles","_sampleGeometryWithElevation","_createQueryResult","_createSampler","_createSamplerAllContinue","tileInfo","source","dest","q","T","elevationTiles","layer","options","pop","concat","coordinates","push","Error","forEach","project","outSpatialReference","_extractSampleInfo","elevationTile","_preselectOutsideLayerExtent","_selectTilesClosestResolution","_selectTilesFinestContiguous","_selectTilesAuto","fullExtent","v","outsideExtentTile","_findNearestDemResolutionLODIndex","selectTilesAtLOD","lods","abs","I","minDemResolution","_selectTilesFinestContiguousAt","tilemapCache","getTilesToFetch","Promise","all","fetchAvailability","row","col","allElevationTilesFetched","clearElevationTiles","cache","id","uid","fetchTile","put","populateElevationTiles","_selectTilesAutoFinest","_reduceTilesForMaximumRequests","_selectTilesAutoPrefetchUpsample","w","fetchAvailabilityUpsample","ok","remapTiles","forEachTileToFetch","maximumAutoTileRequests","upsampleTile","_exporter","spatiaReference","E","tileAt","some","_candidateTiles","_fetchedCandidates","Set","intersection","maskExtents","_maximumLodForRequests","_selectCandidateTilesCoveringExtentAt","size","ceil","clear","add","_uniqueNonOverlappingTiles","has","sort","updateTileInfo","_tileIsMasked","findIndex"],"sourceRoot":""}