(self.webpackChunkData_Design_AI_for_Urban_Data_and_Viz_Harvard_GSD=self.webpackChunkData_Design_AI_for_Urban_Data_and_Viz_Harvard_GSD||[]).push([[361],{69289:function(n,e,r){"use strict";r.r(e),r.d(e,{Solution:function(){return l}});var t=r(29439),a=r(74165),u=r(15861),o=r(15671),s=r(43144),i=r(33178),c=r(30386),l=(r(64355),function(){function n(e){(0,o.Z)(this,n),console.log("Let's learn TF JS !!"),console.log("=============================="),p(),console.log("Playground done!")}return(0,s.Z)(n,[{key:"destroy",value:function(){}}]),n}()),p=function(){var n=(0,u.Z)((0,a.Z)().mark((function n(){var e,r,t;return(0,a.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,f();case 2:return e=n.sent,console.log(e),d(e),n.next=7,m(e);case 7:return r=n.sent,console.log(r),t=h(),n.next=12,b(t,r.inputs,r.labels);case 12:v(t,e,r);case 13:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),f=function(){var n=(0,u.Z)((0,a.Z)().mark((function n(){var e,r,t;return(0,a.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("https://storage.googleapis.com/tfjs-tutorials/carsData.json");case 2:return e=n.sent,n.next=5,e.json();case 5:return r=n.sent,t=r.map((function(n){return{mpg:n.Miles_per_Gallon,horsepower:n.Horsepower}})).filter((function(n){return null!=n.mpg&&null!=n.horsepower})),n.abrupt("return",t);case 8:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),d=function(){var n=(0,u.Z)((0,a.Z)().mark((function n(e){var r;return(0,a.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r=e.map((function(n){return{x:n.horsepower,y:n.mpg}})),c.render.scatterplot({name:"Horsepower v MPG"},{values:r},{xLabel:"Horsepower",yLabel:"MPG",height:300});case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),h=function(){var n=i.Pel();return n.add(i.ugM.dense({inputShape:[1],units:1,useBias:!0})),n.add(i.ugM.dense({units:1,useBias:!0})),n},m=function(){var n=(0,u.Z)((0,a.Z)().mark((function n(e){return(0,a.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",i.lub((function(){i.D5U.shuffle(e);var n=e.map((function(n){return n.horsepower})),r=e.map((function(n){return n.mpg})),t=i.odF(n,[n.length,1]),a=i.odF(r,[r.length,1]),u=t.max(),o=t.min(),s=a.max(),c=a.min();return{inputs:t.sub(o).div(u.sub(o)),labels:a.sub(c).div(s.sub(c)),inputMax:u,inputMin:o,labelMax:s,labelMin:c}})));case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),b=function(){var n=(0,u.Z)((0,a.Z)().mark((function n(e,r,t){return(0,a.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.compile({optimizer:i.p_j.adam(),loss:i.MB5.meanSquaredError,metrics:["mse"]}),32,30,n.next=5,e.fit(r,t,{batchSize:32,epochs:30,shuffle:!0,callbacks:c.show.fitCallbacks({name:"Training Performance"},["loss","mse"],{height:200,callbacks:["onEpochEnd"]})});case 5:return n.abrupt("return",n.sent);case 6:case"end":return n.stop()}}),n)})));return function(e,r,t){return n.apply(this,arguments)}}(),v=function(n,e,r){var a=r.inputMax,u=r.inputMin,o=r.labelMin,s=r.labelMax,l=i.lub((function(){var e=i.SX3(0,1,100),r=n.predict(e.reshape([100,1])),t=e.mul(a.sub(u)).add(u),c=r.mul(s.sub(o)).add(o);return[t.dataSync(),c.dataSync()]})),p=(0,t.Z)(l,2),f=p[0],d=p[1],h=Array.from(f).map((function(n,e){return{x:n,y:d[e]}})),m=e.map((function(n){return{x:n.horsepower,y:n.mpg}}));c.render.scatterplot({name:"Model Predictions vs Original Data"},{values:[m,h],series:["original","predicted"]},{xLabel:"Horsepower",yLabel:"MPG",height:300})}},75410:function(){},48628:function(){},31601:function(){},67792:function(){},34977:function(){},75042:function(){}}]);
//# sourceMappingURL=361.3b4bab10.chunk.js.map