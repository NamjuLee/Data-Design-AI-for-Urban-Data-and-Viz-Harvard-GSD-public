"use strict";(self.webpackChunkData_Design_AI_for_Urban_Data_and_Viz_Harvard_GSD=self.webpackChunkData_Design_AI_for_Urban_Data_and_Viz_Harvard_GSD||[]).push([[227],{30227:function(e,t,o){o.r(t),o.d(t,{Solution:function(){return c}});var n=o(15671),r=o(43144),i=o(60136),s=o(29388),a=o(20386),l=o(87968),c=function(e){(0,i.Z)(o,e);var t=(0,s.Z)(o);function o(e){var r;(0,n.Z)(this,o),(r=t.call(this,e)).colors=[],r.polygonsGeo=[],r.polygonsScreenPath2D=[],r.centersScreen=[],r.mView.on("drag",(function(e){e.stopPropagation()})),r.mView.navigation.mouseWheelZoomEnabled=!1,r.center(-97.893669,39.176304),r.zoom(4);var i=document.createElement("canvas");return i.id="layer",i.width=r.mView.container.clientWidth,i.height=r.mView.container.clientHeight,i.style.background="rgba(0, 32, 0, 0.6)",i.style.position="absolute",i.style.pointerEvents="none",r.mView.container.appendChild(i),(0,l.getJSONFromURL)("/static/data/gz_2010_us_050_00_20m.json").then((function(e){for(var t=e.features,o=0;o<t.length;++o){var n=t[o].geometry;if("Polygon"===n.type){var i=n.coordinates[0][0][0],s=n.coordinates[0][0][1],a=[];a.push(i,s);for(var l=1;l<n.coordinates[0].length;++l)i=n.coordinates[0][l][0],s=n.coordinates[0][l][1],a.push(i,s);r.colors.push("rgba(0, 255, 0, ".concat(.2*Math.random()+.3,")")),r.polygonsGeo.push(a)}}r.start()})),r}return(0,r.Z)(o,[{key:"render",value:function(e){for(var t=0;t<this.polygonsGeo.length;++t){var o=this.polygonsGeo[t][0],n=this.polygonsGeo[t][1],r=this.toScreen(o,n);e.beginPath(),e.moveTo(r[0],r[1]);var i=new Path2D;i.moveTo(r[0],r[1]);for(var s=r[0],a=r[1],l=1,c=2;c<this.polygonsGeo[t].length;c+=2)o=this.polygonsGeo[t][c],n=this.polygonsGeo[t][c+1],r=this.toScreen(o,n),e.lineTo(r[0],r[1]),i.lineTo(r[0],r[1]),s+=r[0],a+=r[1],l++;e.closePath(),e.fillStyle=this.colors[t],e.fill(),h(e,s/l,a/l,1,"#0fff0f"),this.centersScreen.push([s/l,a/l,l]),i.closePath(),this.polygonsScreenPath2D.push(i)}console.log("done!"),this.isStatic=!0}},{key:"mouseMove",value:function(e,t){this.ctx.lineWidth=0;for(var o=-1,n=1e5,r=0;r<this.centersScreen.length;++r){var i=this.centersScreen[r],s=g(e,t,i[0],i[1]);s<n&&(n=s,o=r)}if(console.log("id:",o),this.ctx.lineWidth=.2,-1!==o&&o<=this.polygonsScreenPath2D.length){var a=this.polygonsScreenPath2D[o];this.ctx.strokeStyle="#0f0",this.ctx.stroke(a)}}}]),o}(a.RendererJSAPI),h=function(e,t,o,n,r){e.fillStyle=r,e.beginPath(),e.arc(t,o,n,0,2*Math.PI),e.closePath(),e.fill()},g=function(e,t,o,n){return Math.sqrt((e-o)*(e-o)+(t-n)*(t-n))}}}]);
//# sourceMappingURL=227.3594e060.chunk.js.map