"use strict";(self.webpackChunkData_Design_AI_for_Urban_Data_and_Viz_Harvard_GSD=self.webpackChunkData_Design_AI_for_Urban_Data_and_Viz_Harvard_GSD||[]).push([[6009,9951],{71277:function(e,t,a){function r(e){return e=e||globalThis.location.hostname,u.some((function(t){var a;return null!=(null===(a=e)||void 0===a?void 0:a.match(t))}))}function n(e,t){return e&&(t=t||globalThis.location.hostname)?null!=t.match(l)||null!=t.match(s)?e.replace("static.arcgis.com","staticdev.arcgis.com"):null!=t.match(i)||null!=t.match(o)?e.replace("static.arcgis.com","staticqa.arcgis.com"):e:e}a.d(t,{XO:function(){return r},pJ:function(){return n}});var l=/^devext.arcgis.com$/,i=/^qaext.arcgis.com$/,s=/^[\w-]*\.mapsdevext.arcgis.com$/,o=/^[\w-]*\.mapsqa.arcgis.com$/,u=[/^([\w-]*\.)?[\w-]*\.zrh-dev-local.esri.com$/,l,i,/^jsapps.esri.com$/,s,o]},36009:function(e,t,a){a.r(t),a.d(t,{getPatternDescriptor:function(){return D},getSizeFromOptions:function(){return O},getSymbolLayerFill:function(){return z},previewSymbol3D:function(){return H}});var r=a(74165),n=a(1413),l=a(15861),i=a(65905),s=a(86950),o=(a(93169),a(10064)),u=a(32718),p=a(92026),c=a(66978),h=a(17842),m=a(79563),f=a(29122),y=a(73627),v=a(37817),d=a(1682),b=a(74579),g=a(19951),w=v.b_.size,k=v.b_.maxSize,x=v.b_.maxOutlineSize,M=v.b_.lineWidth,S=v.b_.tallSymbolWidth;function L(e){var t=e.outline,a=(0,p.pC)(e.material)?e.material.color:null,r=(0,p.pC)(a)?a.toHex():null;if((0,p.Wi)(t)||"pattern"in t&&(0,p.pC)(t.pattern)&&"style"===t.pattern.type&&"none"===t.pattern.style)return"fill"===e.type&&"#ffffff"===r?{color:"#bdc3c7",width:.75}:null;var n=(0,h.F2)(t.size)||0;return{color:"rgba("+((0,p.pC)(t.color)?t.color.toRgba():"255,255,255,1")+")",width:Math.min(n,x),style:"pattern"in t&&(0,p.pC)(t.pattern)&&"style"===t.pattern.type?(0,m.Sp)(t.pattern.style):null,join:"butt",cap:"patternCap"in t?t.patternCap:"butt"}}function Z(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=e.a,r=(0,s._Y)(e),n=r.h,l=r.s/t,i=100-(100-r.v)/t,o=(0,s.xr)({h:n,s:l,v:i}),u=o.r,p=o.g,c=o.b;return[u,p,c,a]}function _(e){return"water"===e.type?(0,p.Wi)(e.color)?null:e.color:(0,p.Wi)(e.material)||(0,p.Wi)(e.material.color)?null:e.material.color}function z(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=_(e);if(!a){if("fill"===e.type)return null;var r=m.Ne.r,n=(0,v.uH)(r,t);return[n,n,n,100]}for(var l=a.toRgba(),i=0;i<3;i++)l[i]=(0,v.uH)(l[i],t);return l}function D(e,t){return C.apply(this,arguments)}function C(){return(C=(0,l.Z)((0,r.Z)().mark((function e(t,a){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("none"!==(n=t.style)){e.next=3;break}return e.abrupt("return",null);case 3:return e.next=5,(0,m.Od)((0,i.V)("esri/symbols/patterns/".concat(n,".png")),a.toCss(!0));case 5:return e.t0=e.sent,e.abrupt("return",{type:"pattern",x:0,y:0,src:e.t0,width:5,height:5});case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function j(e){return e.outline?L(e):{color:"rgba(0, 0, 0, 1)",width:1.5}}function P(e,t){var a=_(e);if(!a)return null;var r="rgba(";return r+=(0,v.uH)(a.r,t)+",",r+=(0,v.uH)(a.g,t)+",",(r+=(0,v.uH)(a.b,t)+",")+a.a+");"}function N(e,t){var a=P(e,t);return a?"pattern"in e&&(0,p.pC)(e.pattern)&&"style"===e.pattern.type&&"none"===e.pattern.style?null:{color:a,width:Math.min(e.size?(0,h.F2)(e.size):.75,x),style:"pattern"in e&&(0,p.pC)(e.pattern)&&"style"===e.pattern.type?(0,m.Sp)(e.pattern.style):null,cap:"cap"in e?e.cap:null,join:"join"in e?"miter"===e.join?(0,h.F2)(2):e.join:null}:{}}function F(e,t,a){var r=null!=a?.75*a:0;return{type:"linear",x1:r?.25*r:0,y1:r?.5*r:0,x2:r||4,y2:r?.5*r:4,colors:[{color:e,offset:0},{color:t,offset:1}]}}function O(e){var t="number"==typeof(null===e||void 0===e?void 0:e.size)?null===e||void 0===e?void 0:e.size:null;return t?(0,h.F2)(t):null}function W(e,t){var a,r,n=O(t),l=null!==t&&void 0!==t&&t.maxSize?(0,h.F2)(t.maxSize):null,s=null!==(a=null===t||void 0===t?void 0:t.disableUpsampling)&&void 0!==a&&a,o=e.symbolLayers,p=[],m=0,x=0,M=o.getItemAt(o.length-1);return M&&"icon"===M.type&&(r=M.size&&(0,h.F2)(M.size)),o.forEach((function(a){if("icon"===a.type||"object"===a.type){var o="icon"===a.type?a.size&&(0,h.F2)(a.size):0,u=n||o?Math.ceil(Math.min(n||o,l||k)):w;if(a&&a.resource&&a.resource.href){var c=function(e,t){var a=t&&t.resource,r=a&&a.href;if(e.thumbnail&&e.thumbnail.url)return Promise.resolve(e.thumbnail.url);if(r&&"object"!==t.type)return Promise.resolve((0,b.nf)(e,t));var n=(0,i.V)("esri/images/Legend/legend3dsymboldefault.png");return e.styleOrigin&&(e.styleOrigin.styleName||e.styleOrigin.styleUrl)?(0,g.resolveWebStyleSymbol)(e.styleOrigin,{portal:e.styleOrigin.portal},"webRef").catch((function(e){return e})).then((function(e){var t;return(null===e||void 0===e||null===(t=e.thumbnail)||void 0===t?void 0:t.url)||n})):Promise.resolve(n)}(e,a).then((function(e){var t=a.get("material.color"),r=function(e){return"icon"===e.type?"multiply":"tint"}(a);return(0,d.r)(e,u,t,r,s)})).then((function(e){var t=e.width,a=e.height;return m=Math.max(m,t),x=Math.max(x,a),[{shape:{type:"image",x:0,y:0,width:t,height:a,src:e.url},fill:null,stroke:null}]}));p.push(c)}else{var M,Z=u;"icon"===a.type&&r&&n&&(Z=u*(o/r));var _="tall"===(null===t||void 0===t?void 0:t.symbolConfig)||(null===t||void 0===t||null===(M=t.symbolConfig)||void 0===M?void 0:M.isTall)||"object"===a.type&&function(e){var t=e.depth,a=e.height,r=e.width;return 0!==r&&0!==t&&0!==a&&r===t&&null!=r&&null!=a&&r<a}(a);m=Math.max(m,_?S:Z),x=Math.max(x,Z),p.push(Promise.resolve(function(e,t,a){var r=[];if(!e)return r;switch(e.type){case"icon":var n=t,l=t;switch(e.resource&&e.resource.primitive||f.S){case"circle":r.push({shape:{type:"circle",cx:0,cy:0,r:.5*t},fill:z(e,0),stroke:L(e)});break;case"square":r.push({shape:{type:"path",path:[{command:"M",values:[0,l]},{command:"L",values:[0,0]},{command:"L",values:[n,0]},{command:"L",values:[n,l]},{command:"Z",values:[]}]},fill:z(e,0),stroke:L(e)});break;case"triangle":r.push({shape:{type:"path",path:[{command:"M",values:[0,l]},{command:"L",values:[.5*n,0]},{command:"L",values:[n,l]},{command:"Z",values:[]}]},fill:z(e,0),stroke:L(e)});break;case"cross":r.push({shape:{type:"path",path:[{command:"M",values:[.5*n,0]},{command:"L",values:[.5*n,l]},{command:"M",values:[0,.5*l]},{command:"L",values:[n,.5*l]}]},stroke:j(e)});break;case"x":r.push({shape:{type:"path",path:[{command:"M",values:[0,0]},{command:"L",values:[n,l]},{command:"M",values:[n,0]},{command:"L",values:[0,l]}]},stroke:j(e)});break;case"kite":r.push({shape:{type:"path",path:[{command:"M",values:[0,.5*l]},{command:"L",values:[.5*n,0]},{command:"L",values:[n,.5*l]},{command:"L",values:[.5*n,l]},{command:"Z",values:[]}]},fill:z(e,0),stroke:L(e)})}break;case"object":switch(e.resource&&e.resource.primitive||y.S){case"cone":var i=F(z(e,0),z(e,-.6),a?S:t),s=(0,v.TE)(t,a);r.push({shape:s[0],fill:i}),r.push({shape:s[1],fill:i});break;case"inverted-cone":var o=z(e,0),u=F(o,z(e,-.6),t),p=(0,v.DY)(t);r.push({shape:p[0],fill:u}),r.push({shape:p[1],fill:o});break;case"cube":var c=(0,v.Pc)(t,a);r.push({shape:c[0],fill:z(e,0)}),r.push({shape:c[1],fill:z(e,-.3)}),r.push({shape:c[2],fill:z(e,-.5)});break;case"cylinder":var h=F(z(e,0),z(e,-.6),a?S:t),m=(0,v.EB)(t,a);r.push({shape:m[0],fill:h}),r.push({shape:m[1],fill:h}),r.push({shape:m[2],fill:z(e,0)});break;case"diamond":var d=(0,v.XX)(t);r.push({shape:d[0],fill:z(e,-.3)}),r.push({shape:d[1],fill:z(e,0)}),r.push({shape:d[2],fill:z(e,-.3)}),r.push({shape:d[3],fill:z(e,-.7)});break;case"sphere":var b=F(z(e,0),z(e,-.6));b.x1=0,b.y1=0,b.x2=.25*t,b.y2=.25*t,r.push({shape:{type:"circle",cx:0,cy:0,r:.5*t},fill:b});break;case"tetrahedron":var g=(0,v.tp)(t);r.push({shape:g[0],fill:z(e,-.3)}),r.push({shape:g[1],fill:z(e,0)}),r.push({shape:g[2],fill:z(e,-.6)})}}return r}(a,Z,_)))}}})),(0,c.as)(p).then((function(e){var a=[];return e.forEach((function(e){e.value?a.push(e.value):e.error&&u.Z.getLogger("esri.symbols.support.previewSymbol3D").warn("error while building swatchInfo!",e.error)})),(0,d.w)(a,[m,x],{node:t&&t.node,scale:!1,opacity:t&&t.opacity})}))}function E(){return(E=(0,l.Z)((0,r.Z)().mark((function e(t,a){var l,i,s,o,u,c,m,f,y,b,g,x,M,S,C,j,P,F,W,E,H,U,J,V,I,T,$,q,Y,A,R,X,G;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l="mesh-3d"===t.type,i=t.symbolLayers,s=O(a),o=a&&a.maxSize?(0,h.F2)(a.maxSize):null,u=s||w,c=[],m=0,f=0,y=!1,b=0;case 3:if(!(b<i.length)){e.next=42;break}if(g=i.getItemAt(b),x=[],!l||"fill"===g.type){e.next=7;break}return e.abrupt("continue",39);case 7:M=v.JZ.fill[0],e.t0=g.type,e.next="fill"===e.t0?11:"line"===e.t0?22:"extrude"===e.t0?28:"water"===e.t0?33:38;break;case 11:if(S=L(g),C=Math.min(u,o||k),m=Math.max(m,C),f=Math.max(f,C),y=!0,j=z(g,0),P="pattern"in g?g.pattern:null,F=_(g),e.t1=!l&&(0,p.pC)(P)&&"style"===P.type&&"solid"!==P.style&&F,!e.t1){e.next=20;break}return e.next=19,D(P,F);case 19:j=e.sent;case 20:return x.push({shape:M,fill:j,stroke:S}),e.abrupt("break",38);case 22:if(W=N(g,0),!(0,p.Wi)(W)){e.next=25;break}return e.abrupt("break",38);case 25:return E={stroke:W,shape:M},m=Math.max(m,w),f=Math.max(f,w),x.push(E),e.abrupt("break",38);case 28:return H=(0,n.Z)({join:"round",width:1},N(g,-.4)),U=z(g,0),J=z(g,-.2),V=Math.min(u,o||k),I=(0,v.EV)(V),H.width=1,x.push({shape:I[0],fill:J,stroke:H}),x.push({shape:I[1],fill:J,stroke:H}),x.push({shape:I[2],fill:U,stroke:H}),T=w,$=.7*w+.5*V,m=Math.max(m,T),f=Math.max(f,$),e.abrupt("break",38);case 33:return q=(0,p.s3)(_(g)),Y=Z(q),A=Z(q,2),R=Z(q,3),X=(0,v.ht)(),y=!0,x.push({shape:X[0],fill:Y}),x.push({shape:X[1],fill:A}),x.push({shape:X[2],fill:R}),G=Math.min(u,o||k),m=Math.max(m,G),f=Math.max(f,G),e.abrupt("break",38);case 38:c.push(x);case 39:b++,e.next=3;break;case 42:return e.abrupt("return",(0,d.w)(c,[m,f],{node:a&&a.node,scale:y,opacity:a&&a.opacity}));case 43:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function H(e,t){if(0===e.symbolLayers.length)return Promise.reject(new o.Z("symbolPreview: renderPreviewHTML3D","No symbolLayers in the symbol."));switch(e.type){case"point-3d":return W(e,t);case"line-3d":return function(e,t){var a,r=e.symbolLayers,l=[],i=(0,b.YW)(e),s=O(t),o=(t&&t.maxSize?(0,h.F2)(t.maxSize):null)||x,u=0,c=0;return r.forEach((function(e,t){if(e&&("line"===e.type||"path"===e.type)){var r=[];switch(e.type){case"line":var i=N(e,0);if((0,p.Wi)(i))break;var h=i&&i.width||0;0===t&&(a=h);var m=Math.min(s||h,o),f=0===t?m:s?m*(h/a):m,y=f>M/2?2*f:M;c=Math.max(c,f),u=Math.max(u,y),i.width=f,r.push({shape:{type:"path",path:[{command:"M",values:[0,.5*c]},{command:"L",values:[u,.5*c]}]},stroke:i});break;case"path":var d=Math.min(s||w,o),b=z(e,0),g=z(e,-.2),k=P(e,-.4),x=k?{color:k,width:1}:{};if("quad"===e.profile){var S=e.width,L=e.height,Z=(0,v.eb)(S&&L?S/L:1,0===L,0===S),_=(0,n.Z)((0,n.Z)({},x),{},{join:"bevel"});r.push({shape:Z[0],fill:g,stroke:_}),r.push({shape:Z[1],fill:g,stroke:_}),r.push({shape:Z[2],fill:b,stroke:_})}else r.push({shape:v.JZ.pathSymbol3DLayer[0],fill:g,stroke:x}),r.push({shape:v.JZ.pathSymbol3DLayer[1],fill:b,stroke:x});c=Math.max(c,d),u=c}l.push(r)}})),Promise.resolve((0,d.w)(l,[u,c],{node:t&&t.node,scale:i,opacity:t&&t.opacity}))}(e,t);case"polygon-3d":case"mesh-3d":return function(e,t){return E.apply(this,arguments)}(e,t)}return Promise.reject(new o.Z("symbolPreview: swatchInfo3D","symbol not supported."))}},19951:function(e,t,a){a.r(t),a.d(t,{fetchSymbolFromStyle:function(){return y},resolveWebStyleSymbol:function(){return f}});var r=a(51508),n=a(71277),l=a(10064),i=a(92026),s=a(35995),o=a(70032),u=a(53283),p=a(42283),c=a(1472),h=a(38048),m=a(81854);function f(e,t,a,r){return e.name?e.styleName&&"Esri2DPointSymbolsStyle"===e.styleName?function(e,t,a){var r=h.wm.replace(/\{SymbolName\}/gi,e.name),n=(0,i.pC)(t.portal)?t.portal:o.Z.getDefault();return(0,h.EJ)(r,a).then((function(e){var t=(0,h.KV)(e.data);return(0,p.im)(t,{portal:n,url:(0,s.mN)((0,s.Yd)(r)),origin:"portal-item"})}))}(e,t,r):(0,h.n2)(e,t,r).then((function(n){return y((0,i.s3)(n),e.name,t,a,r)})):Promise.reject(new l.Z("symbolstyleutils:style-symbol-reference-name-missing","Missing name in style symbol reference"))}function y(e,t,a,f,y){var v,d,b,g=e.data,w=a&&(0,i.pC)(a.portal)?a.portal:o.Z.getDefault(),k={portal:w,url:(0,s.mN)(e.baseUrl),origin:"portal-item"},x=g.items.find((function(e){return e.name===t}));if(!x){var M="The symbol name '".concat(t,"' could not be found");return Promise.reject(new l.Z("symbolstyleutils:symbol-name-not-found",M,{symbolName:t}))}var S=(0,u.f)((0,h.v9)(x,f),k),L=null!==(v=null===(d=x.thumbnail)||void 0===d?void 0:d.href)&&void 0!==v?v:null,Z=x.thumbnail&&x.thumbnail.imageData;(0,n.XO)()&&(S=null!==(b=(0,n.pJ)(S))&&void 0!==b?b:"",L=(0,n.pJ)(L));var _={portal:w,url:(0,s.mN)((0,s.Yd)(S)),origin:"portal-item"};return(0,h.EJ)(S,y).then((function(n){var l="cimRef"===f?(0,h.KV)(n.data):n.data,i=(0,p.im)(l,_);if(i&&(0,r.dU)(i)){if(L){var s=(0,u.f)(L,k);i.thumbnail=new m.p({url:s})}else Z&&(i.thumbnail=new m.p({url:"data:image/png;base64,".concat(Z)}));e.styleUrl?i.styleOrigin=new c.Z({portal:a.portal,styleUrl:e.styleUrl,name:t}):e.styleName&&(i.styleOrigin=new c.Z({portal:a.portal,styleName:e.styleName,name:t}))}return i}))}}}]);
//# sourceMappingURL=6009.cddedad8.chunk.js.map