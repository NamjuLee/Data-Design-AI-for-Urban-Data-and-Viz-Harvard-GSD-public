{"version":3,"file":"static/js/6598.4839313d.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/views/2d/layers/features/tileRenderers/BaseTileRenderer.js","../node_modules/@arcgis/core/views/2d/layers/features/tileRenderers/support/HeatmapSource.js","../node_modules/@arcgis/core/views/2d/layers/features/tileRenderers/HeatmapTileRenderer.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import{HandleOwner as t}from\"../../../../../core/HandleOwner.js\";import{property as s}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/arrayUtils.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import{subclass as r}from\"../../../../../core/accessorSupport/decorators/subclass.js\";let i=class extends t{constructor(e){super(e),this.tiles=new Map}destroy(){this.tiles.clear(),this.layer=this.layerView=this.tileInfoView=this.tiles=null}get updating(){return this.isUpdating()}acquireTile(e){const t=this.createTile(e);return t.once(\"isReady\",(()=>this.notifyChange(\"updating\"))),this.tiles.set(e.id,t),t}forceAttributeTextureUpload(){}forEachTile(e){this.tiles.forEach(e)}releaseTile(e){this.tiles.delete(e.key.id),this.disposeTile(e)}isUpdating(){let e=!0;return this.tiles.forEach((t=>{e=e&&t.isReady})),!e}setHighlight(){}invalidateLabels(){}requestUpdate(){this.layerView.requestUpdate()}};e([s()],i.prototype,\"layer\",void 0),e([s()],i.prototype,\"layerView\",void 0),e([s()],i.prototype,\"tileInfoView\",void 0),e([s()],i.prototype,\"updating\",null),i=e([r(\"esri.views.2d.layers.features.tileRenderers.BaseTileRenderer\")],i);const o=i;export{o as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{drawHeatmap as t}from\"../../../../../../renderers/support/heatmapUtils.js\";class i{constructor(){this.gradient=null,this.height=512,this.width=512}render(i){t(i,512,this.intensities,this.gradient,this.minDensity,this.maxDensity)}}export{i as HeatmapSource};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import\"../../../../../core/Logger.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import\"../../../../../core/arrayUtils.js\";import\"../../../../../core/Error.js\";import\"../../../../../core/has.js\";import{subclass as t}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{generateGradient as i}from\"../../../../../renderers/support/heatmapUtils.js\";import{BitmapTileContainer as r}from\"../../../engine/BitmapTileContainer.js\";import s from\"./BaseTileRenderer.js\";import{HeatmapSource as n}from\"./support/HeatmapSource.js\";let o=class extends s{constructor(e){super(e),this._intensityInfo={minDensity:0,maxDensity:0},this.type=\"heatmap\",this.featuresView={attributeView:{initialize:()=>{},requestUpdate:()=>{}},requestRender:()=>{}},this._container=new r(e.tileInfoView)}createTile(e){const t=this._container.createTile(e);return this.tileInfoView.getTileCoords(t.bitmap,e),t.bitmap.resolution=this.tileInfoView.getTileResolution(e),t}onConfigUpdate(){const e=this.layer.renderer;if(\"heatmap\"===e.type){const{minDensity:t,maxDensity:r,colorStops:s}=e;this._intensityInfo.minDensity=t,this._intensityInfo.maxDensity=r,this._gradient=i(s),this.tiles.forEach((e=>{const i=e.bitmap.source;i&&(i.minDensity=t,i.maxDensity=r,i.gradient=this._gradient,e.bitmap.invalidateTexture())}))}}hitTest(){return Promise.resolve([])}install(e){e.addChild(this._container)}uninstall(e){this._container.removeAllChildren(),e.removeChild(this._container)}disposeTile(e){this._container.removeChild(e),e.destroy()}supportsRenderer(e){return e&&\"heatmap\"===e.type}onTileData(e){const t=this.tiles.get(e.tileKey);if(!t)return;const i=e.intensityInfo,{minDensity:r,maxDensity:s}=this._intensityInfo,o=t.bitmap.source||new n;o.intensities=i&&i.matrix||null,o.minDensity=r,o.maxDensity=s,o.gradient=this._gradient,t.bitmap.source=o,this._container.addChild(t),this._container.requestRender(),this.requestUpdate()}onTileError(e){console.error(e)}lockGPUUploads(){}unlockGPUUploads(){}fetchResource(e,t){return console.error(e),Promise.reject()}};o=e([t(\"esri.views.2d.layers.features.tileRenderers.HeatmapTileRenderer\")],o);const a=o;export{a as default};\n"],"names":["i","e","tiles","Map","this","clear","layer","layerView","tileInfoView","get","isUpdating","t","createTile","once","notifyChange","set","id","forEach","delete","key","disposeTile","isReady","requestUpdate","s","prototype","o","r","gradient","height","width","intensities","minDensity","maxDensity","_intensityInfo","type","featuresView","attributeView","initialize","requestRender","_container","getTileCoords","bitmap","resolution","getTileResolution","renderer","colorStops","_gradient","source","invalidateTexture","Promise","resolve","addChild","removeAllChildren","removeChild","destroy","tileKey","intensityInfo","n","matrix","console","error","reject","a"],"sourceRoot":""}